<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>达标分析</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/heatmap.js/2.0.2/heatmap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: #f5f7fa;
            padding: 0;
        }

        /* 顶部导航栏 */
        .navbar {
            background: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 0 30px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 70px;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #3498db;
            font-size: 20px;
            font-weight: 600;
            text-decoration: none;
        }

        .nav-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        .nav-menu {
            display: flex;
            gap: 5px;
            list-style: none;
        }

        .nav-menu>li {
            position: relative;
        }

        .nav-menu>li>a {
            display: block;
            padding: 10px 20px;
            color: #555;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s;
            font-size: 15px;
            position: relative;
        }

        .nav-menu>li>a:hover {
            background: #f0f0f0;
            color: #3498db;
        }

        .nav-menu>li>a.active {
            background: #3498db;
            color: white;
        }

        .nav-menu>li.has-submenu>a::after {
            content: '▼';
            display: inline-block;
            margin-left: 5px;
            font-size: 10px;
        }

        /* 下拉菜单 */
        .submenu {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 180px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-radius: 6px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 1000;
            margin-top: 5px;
            padding: 5px 0;
        }

        /* 用户菜单 */
        .user-menu {
            position: relative;
            margin-left: 20px;
        }

        .user-menu-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: #f0f0f0;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            color: #495057;
        }

        .user-menu-btn:hover {
            background: #e9ecef;
            border-color: #dee2e6;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            min-width: 160px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 1000;
            margin-top: 8px;
            padding: 8px 0;
        }

        .user-menu:hover .user-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .user-dropdown a {
            display: block;
            padding: 10px 16px;
            color: #495057;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s;
        }

        .user-dropdown a:hover {
            background: #f8f9fa;
            color: #3498db;
            padding-left: 20px;
        }

        .user-dropdown .divider {
            height: 1px;
            background: #e9ecef;
            margin: 8px 0;
        }

        .nav-menu>li:hover .submenu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .submenu li {
            list-style: none;
        }

        .submenu li a {
            display: block;
            padding: 10px 20px;
            color: #555;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s;
        }

        .submenu li a:hover {
            background: #f0f0f0;
            color: #3498db;
            padding-left: 25px;
        }

        .submenu li a.active {
            background: #3498db;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 30px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .analysis-type-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .analysis-type-btn {
            padding: 10px 20px;
            background: #ecf0f1;
            color: #2c3e50;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .analysis-type-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .filter-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        /* 地图图例样式 */
        .info {
            padding: 6px 8px;
            font: 14px/16px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }

        .info h4 {
            margin: 0 0 5px;
            color: #777;
        }

        .legend {
            text-align: left;
            line-height: 18px;
            color: #555;
        }

        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }

        .filter-row {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label {
            font-weight: 600;
            color: #555;
            white-space: nowrap;
            font-size: 13px;
        }

        select,
        input {
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
            min-width: 120px;
        }

        button {
            padding: 8px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: background 0.3s;
        }

        button:hover {
            background: #2980b9;
        }

        button:disabled {
            opacity: 1;
            cursor: pointer;
        }

        .result-section {
            background: white;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 30px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .control-form {
            margin: 20px 0;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .control-form h4 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #333;
            font-size: 16px;
        }

        .control-form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .control-form-item {
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 200px;
        }

        .control-form-item label {
            font-weight: bold;
            color: #555;
            min-width: 100px;
        }

        .control-form-item input {
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f8f8f8;
        }

        .result-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .result-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #3498db;
        }

        .result-card label {
            display: block;
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .result-card .value {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
        }

        .result-card .unit {
            font-size: 14px;
            color: #7f8c8d;
            margin-left: 5px;
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .result-table th,
        .result-table td {
            padding: 8px 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
            font-size: 13px;
        }

        .result-table th {
            background: #3498db;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        .result-table tr:hover {
            background: #f5f5f5;
        }

        .chart-wrapper {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .chart-title {
            font-size: 14px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .target-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .target-input {
            background: white;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }

        .target-input label {
            display: block;
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .target-input input {
            width: 100%;
            padding: 6px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-good {
            background: #27ae60;
            color: white;
        }

        .status-warning {
            background: #f39c12;
            color: white;
        }

        .status-danger {
            background: #e74c3c;
            color: white;
        }
    </style>
</head>

<body>
    <!-- 顶部导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <div class="nav-logo-icon">AQ</div>
                <span>空气质量分析服务系统</span>
            </a>
            <ul class="nav-menu">
                <li><a href="index.html">首页</a></li>
                <li><a href="air-quality-query.html">空气质量查询</a></li>
                <li class="has-submenu">
                    <a href="#">时空变化分析</a>
                    <ul class="submenu">
                        <li><a href="period-comparison.html">时段对比</a></li>
                        <li><a href="station-comparison.html">站点对比</a></li>
                        <li><a href="time-anomaly.html">时间距平</a></li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="#">污染物特征分析</a>
                    <ul class="submenu">
                        <li><a href="pollutant-correlation.html">污染物关联性分析</a></li>
                        <li><a href="pollutant-calendar.html">污染物日历分析</a></li>
                        <li><a href="pollutant-weekday.html">污染物星期分析</a></li>
                        <li><a href="pollutant-hourly.html">污染物小时分析</a></li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="#">达标压力测算</a>
                    <ul class="submenu">
                        <li><a href="compliance-target.html">达标目标</a></li>
                        <li><a href="compliance-analysis.html" class="active">达标分析</a></li>
                    </ul>
                </li>
            </ul>

            <!-- 用户菜单 -->
            <div class="user-menu" id="userMenu">
                <div class="user-menu-btn">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <span id="userName">管理员</span>
                </div>
                <div class="user-dropdown">
                    <a href="profile.html">个人中心</a>
                    <div class="divider"></div>
                    <a href="#" onclick="logout()">退出登录</a>
                </div>
            </div>
        </div>
    </nav>
    <div class="container">
        <h1>达标分析</h1>

        <div class="analysis-type-selector">
            <button class="analysis-type-btn active" onclick="switchAnalysisType('daily')">单日达标分析</button>
            <button class="analysis-type-btn" onclick="switchAnalysisType('monthly')">月度达标分析</button>
            <button class="analysis-type-btn" onclick="switchAnalysisType('annual')">年度达标分析</button>
            <button class="analysis-type-btn" onclick="switchAnalysisType('six-param')">六参数达标分析</button>
        </div>

        <div id="dailyAnalysis" class="analysis-content">
            <div class="result-section" id="dailyResult"></div>
        </div>

        <div id="monthlyAnalysis" class="analysis-content" style="display: none;">
            <div class="result-section" id="monthlyResult"></div>
        </div>

        <div id="annualAnalysis" class="analysis-content" style="display: none;">
            <div class="result-section" id="annualResult"></div>
        </div>

        <div id="sixParamAnalysis" class="analysis-content" style="display: none;">
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-item">
                        <label>计算范围：</label>
                        <select id="sixParamRange">
                            <option value="city">厦门市</option>
                            <option value="siming">思明区</option>
                            <option value="huli">湖里区</option>
                            <option value="jimei">集美区</option>
                            <option value="haicang">海沧区</option>
                            <option value="tongan">同安区</option>
                            <option value="xiangan">翔安区</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>站点：</label>
                        <select id="sixParamStation">
                            <option value="all">全部站点</option>
                            <option value="station1">鼓浪屿海滨空气监测站</option>
                            <option value="station2">莲前大道空气质量监测站</option>
                            <option value="station3">筼筜湖生态监测站</option>
                            <option value="station4">五缘湾湿地空气监测站</option>
                            <option value="station5">枋湖工业片区空气质量监测站</option>
                            <option value="station6">杏林湾新城空气监测站</option>
                            <option value="station7">厦门北站交通枢纽监测站</option>
                            <option value="station8">嵩屿码头空气监测站</option>
                            <option value="station9">海沧生物医药园监测站</option>
                            <option value="station10">同安工业集中区空气监测站</option>
                            <option value="station11">翔安机场片区空气质量监测站</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>统计类型：</label>
                        <select id="sixParamStatType">
                            <option value="hourly">小时</option>
                            <option value="daily">日度</option>
                            <option value="monthly">月度</option>
                            <option value="quarterly">季度</option>
                            <option value="annual">年度</option>
                            <option value="custom">自定义</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label>开始时间：</label>
                        <input type="date" id="sixParamStartDate" value="2024-01-01">
                    </div>
                    <div class="filter-item">
                        <label>结束时间：</label>
                        <input type="date" id="sixParamEndDate" value="2024-01-31">
                    </div>
                    <button onclick="analyzeSixParam()">分析</button>
                </div>
                <div class="target-inputs">
                    <div class="target-input">
                        <label>PM2.5目标值 (μg/m³)</label>
                        <input type="number" id="sixParamPM25" value="20" min="0">
                    </div>
                    <div class="target-input">
                        <label>PM10目标值 (μg/m³)</label>
                        <input type="number" id="sixParamPM10" value="20" min="0">
                    </div>
                    <div class="target-input">
                        <label>O₃-8h目标值 (μg/m³)</label>
                        <input type="number" id="sixParamO3" value="30" min="0">
                    </div>
                    <div class="target-input">
                        <label>NO₂目标值 (μg/m³)</label>
                        <input type="number" id="sixParamNO2" value="4" min="0">
                    </div>
                    <div class="target-input">
                        <label>SO₂目标值 (μg/m³)</label>
                        <input type="number" id="sixParamSO2" value="2" min="0">
                    </div>
                    <div class="target-input">
                        <label>CO目标值 (mg/m³)</label>
                        <input type="number" id="sixParamCO" value="5" min="0" step="0.1">
                    </div>
                </div>
            </div>
            <div class="result-section" id="sixParamResult"></div>
            <div class="chart-wrapper">
                <div class="chart-title">六参数达标压力分布图</div>
                <div id="mapContainer" style="height: 500px; width: 100%;"></div>
            </div>
        </div>
    </div>

    <script>
        // 厦门市行政区划简化GeoJSON数据
        const xiamenGeoJSON = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {
                        "name": "思明区",
                        "id": "siming"
                    },
                    "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 118.067191838890281, 24.476610261051249 ], [ 118.06831984, 24.47680999 ], [ 118.06932707, 24.477465 ], [ 118.07009952, 24.47785625 ], [ 118.0712028, 24.47822119 ], [ 118.07170649, 24.47839673 ], [ 118.07223215, 24.47902834 ], [ 118.07219016, 24.47908738 ], [ 118.07214518, 24.47915244 ], [ 118.07238005, 24.47920523 ], [ 118.07289273, 24.47982285 ], [ 118.07292171, 24.47992184 ], [ 118.07297169, 24.4799178 ], [ 118.07305564, 24.48001874 ], [ 118.07308162, 24.48004972 ], [ 118.07315757, 24.48014067 ], [ 118.07318056, 24.48016865 ], [ 118.07565724, 24.48314604 ], [ 118.07699574, 24.48354309 ], [ 118.07702373, 24.48355208 ], [ 118.07704273, 24.48355706 ], [ 118.07896517, 24.48412785 ], [ 118.08063172, 24.48612716 ], [ 118.0831412, 24.49063259 ], [ 118.08582119, 24.49270086 ], [ 118.08583119, 24.49271086 ], [ 118.08585019, 24.49272386 ], [ 118.08895062, 24.49511742 ], [ 118.09529704, 24.49859063 ], [ 118.09832592, 24.49958725 ], [ 118.09833892, 24.49959025 ], [ 118.09871819, 24.49971436 ], [ 118.09874121, 24.49972336 ], [ 118.10053255, 24.50031295 ], [ 118.10549099, 24.50253833 ], [ 118.11320017, 24.50373967 ], [ 118.11734199, 24.50597368 ], [ 118.1187141, 24.50621507 ], [ 118.1198079, 24.50545309 ], [ 118.1206153, 24.50419078 ], [ 118.12100407, 24.50241895 ], [ 118.12105518, 24.50207896 ], [ 118.12113333, 24.50183001 ], [ 118.12113634, 24.50181801 ], [ 118.12113934, 24.50180201 ], [ 118.12119345, 24.50155404 ], [ 118.12119846, 24.50153604 ], [ 118.12121449, 24.50146405 ], [ 118.12123854, 24.50135206 ], [ 118.12125858, 24.50126607 ], [ 118.12125958, 24.50125107 ], [ 118.12133473, 24.5009121 ], [ 118.12133974, 24.50089411 ], [ 118.12134074, 24.5008821 ], [ 118.12266442, 24.49485472 ], [ 118.12271653, 24.49452473 ], [ 118.12281173, 24.49397176 ], [ 118.12299409, 24.49336588 ], [ 118.1232636, 24.49286111 ], [ 118.12331669, 24.49282117 ], [ 118.12336177, 24.49286023 ], [ 118.12436553, 24.49285441 ], [ 118.12712645, 24.49434106 ], [ 118.12938574, 24.49442304 ], [ 118.12940578, 24.49441707 ], [ 118.12942582, 24.4944241 ], [ 118.13178346, 24.49451036 ], [ 118.13204199, 24.49438171 ], [ 118.13214619, 24.49452288 ], [ 118.1328917, 24.49454995 ], [ 118.13675682, 24.49384759 ], [ 118.13681595, 24.49382568 ], [ 118.13685002, 24.49383073 ], [ 118.13865595, 24.4935025 ], [ 118.14075668, 24.49227867 ], [ 118.14081782, 24.49223576 ], [ 118.14078276, 24.49198567 ], [ 118.1404912, 24.490647 ], [ 118.14040505, 24.49013178 ], [ 118.14026578, 24.48960947 ], [ 118.13904648, 24.48401266 ], [ 118.13959374, 24.48325341 ], [ 118.14867447, 24.48519699 ], [ 118.15665275, 24.48689567 ], [ 118.16492513, 24.49035164 ], [ 118.17035164, 24.49216815 ], [ 118.17036668, 24.49216018 ], [ 118.17041179, 24.49218827 ], [ 118.17153057, 24.49256243 ], [ 118.17374502, 24.49380177 ], [ 118.17380215, 24.49392589 ], [ 118.17377407, 24.49405486 ], [ 118.17395842, 24.49562044 ], [ 118.17395541, 24.49563943 ], [ 118.17396243, 24.49566045 ], [ 118.17403957, 24.49631269 ], [ 118.17461284, 24.49857009 ], [ 118.17543684, 24.49931573 ], [ 118.17789405, 24.49728699 ], [ 118.17925645, 24.49652238 ], [ 118.18064473, 24.49802013 ], [ 118.18285894, 24.50001241 ], [ 118.1831366, 24.50007191 ], [ 118.18351952, 24.5001196 ], [ 118.18353455, 24.50011763 ], [ 118.1835536, 24.50012566 ], [ 118.18456801, 24.50029149 ], [ 118.18462514, 24.5003296 ], [ 118.18482662, 24.50033295 ], [ 118.18725932, 24.50073027 ], [ 118.19028925, 24.50171358 ], [ 118.1922325, 24.5037081 ], [ 118.19335286, 24.50570821 ], [ 118.19968932, 24.50759336 ], [ 118.19987986, 24.50555136 ], [ 118.20139864, 24.49583821 ], [ 118.20158321, 24.49311008 ], [ 118.20239906, 24.49006779 ], [ 118.20204976, 24.4843104 ], [ 118.19951997, 24.47916386 ], [ 118.19411198, 24.4710511 ], [ 118.18861691, 24.46616611 ], [ 118.18115658, 24.46108905 ], [ 118.17834493, 24.45804036 ], [ 118.16898717, 24.45043146 ], [ 118.16043719, 24.44434623 ], [ 118.15166106, 24.43709062 ], [ 118.14850073, 24.43358029 ], [ 118.14546291, 24.42901607 ], [ 118.1383172, 24.42351317 ], [ 118.12966142, 24.42234223 ], [ 118.125796764936453, 24.42257188455303 ], [ 118.121813223, 24.422808606 ], [ 118.112219649, 24.424329794000101 ], [ 118.101227491, 24.427070153 ], [ 118.092067456, 24.430189442 ], [ 118.083957388, 24.43393308 ], [ 118.079373481, 24.4383003290001 ], [ 118.075839068, 24.4443329970001 ], [ 118.07354673, 24.4489087850001 ], [ 118.069387899, 24.452862587 ], [ 118.066748706, 24.455435036 ], [ 118.065368707, 24.457855157 ], [ 118.064725067, 24.460914523 ], [ 118.063935437, 24.4660254500001 ], [ 118.063822388, 24.468207978000098 ], [ 118.064049015, 24.470390058000099 ], [ 118.065089972, 24.471539923 ], [ 118.066123887, 24.474068075 ], [ 118.066570437, 24.475130717000098 ], [ 118.067191826, 24.476610231000102 ], [ 118.067191838890281, 24.476610261051249 ] ] ], [ [ [ 118.188070577456145, 24.45357387327045 ], [ 118.18864087, 24.45337283 ], [ 118.18895061, 24.45296828 ], [ 118.1890569, 24.45232634 ], [ 118.1888234, 24.45177684 ], [ 118.18743327, 24.45039419 ], [ 118.1869652, 24.45010032 ], [ 118.18629765, 24.44994713 ], [ 118.185558984620656, 24.449981836024119 ], [ 118.185067812, 24.450285022000099 ], [ 118.184922432, 24.450790862000101 ], [ 118.184977529, 24.4512660500001 ], [ 118.18537442, 24.451968882000099 ], [ 118.185881565, 24.4527209140001 ], [ 118.186599211, 24.453302277 ], [ 118.187394052, 24.4535637060001 ], [ 118.188070577456145, 24.45357387327045 ] ] ], [ [ [ 118.061425656257043, 24.456433134953432 ], [ 118.06230365, 24.45629589 ], [ 118.06303296, 24.45558677 ], [ 118.06408305, 24.4540761 ], [ 118.06543789, 24.45304819 ], [ 118.06644412, 24.45169871 ], [ 118.06820681, 24.45055545 ], [ 118.06998763, 24.44952533 ], [ 118.07148083, 24.44769347 ], [ 118.07280925, 24.44540678 ], [ 118.07306021, 24.44417131 ], [ 118.0729373, 24.44386136 ], [ 118.07284244, 24.4426152 ], [ 118.07264063, 24.44137214 ], [ 118.07243979, 24.44068418 ], [ 118.07213699, 24.44019637 ], [ 118.07123057, 24.4394921 ], [ 118.0704241, 24.43905482 ], [ 118.06694768, 24.43818947 ], [ 118.066375189486834, 24.437831075939012 ], [ 118.065325176, 24.437946374 ], [ 118.064577844, 24.43806334 ], [ 118.062972349, 24.438568550000099 ], [ 118.061399929, 24.439211852 ], [ 118.059221349, 24.439544102000099 ], [ 118.057562329, 24.4399367390001 ], [ 118.056416745, 24.440537693000099 ], [ 118.055704641, 24.4411039730001 ], [ 118.054836772, 24.441672536000102 ], [ 118.05335178, 24.442726297 ], [ 118.052205378, 24.443783535 ], [ 118.051684076, 24.4449337020001 ], [ 118.05139838, 24.446715569 ], [ 118.051572039, 24.447802462 ], [ 118.052709195, 24.449915825000101 ], [ 118.053872375, 24.451980181000099 ], [ 118.054506411, 24.453052295000099 ], [ 118.055444015, 24.4546860230001 ], [ 118.056078115, 24.455472122000099 ], [ 118.056877055, 24.455815891 ], [ 118.058638873, 24.455792123 ], [ 118.059898367, 24.456250312000101 ], [ 118.061425656257043, 24.456433134953432 ] ] ] ] }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "湖里区",
                        "id": "huli"
                    },
                    "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 118.15226007, 24.55584606 ], [ 118.15141803, 24.55584555 ], [ 118.150376529530789, 24.556205696330423 ], [ 118.149821201, 24.556604722 ], [ 118.14957759, 24.557004325 ], [ 118.149698848, 24.557444578000101 ], [ 118.15013286, 24.557844383 ], [ 118.150775397, 24.557963537 ], [ 118.154534532, 24.558085338000101 ], [ 118.155011668907207, 24.557844216325147 ], [ 118.1551771, 24.55740451 ], [ 118.15509894, 24.55688532 ], [ 118.15357924, 24.55652551 ], [ 118.1528585, 24.55616517 ], [ 118.15226007, 24.55584606 ] ] ], [ [ [ 118.19968932, 24.50759336 ], [ 118.19335286, 24.50570821 ], [ 118.1922325, 24.5037081 ], [ 118.19028925, 24.50171358 ], [ 118.18725932, 24.50073027 ], [ 118.18482662, 24.50033295 ], [ 118.18462514, 24.5003296 ], [ 118.18456801, 24.50029149 ], [ 118.1835536, 24.50012566 ], [ 118.18353455, 24.50011763 ], [ 118.18351952, 24.5001196 ], [ 118.1831366, 24.50007191 ], [ 118.18285894, 24.50001241 ], [ 118.18064473, 24.49802013 ], [ 118.17925645, 24.49652238 ], [ 118.17789405, 24.49728699 ], [ 118.17543684, 24.49931573 ], [ 118.17461284, 24.49857009 ], [ 118.17403957, 24.49631269 ], [ 118.17396243, 24.49566045 ], [ 118.17395541, 24.49563943 ], [ 118.17395842, 24.49562044 ], [ 118.17377407, 24.49405486 ], [ 118.17380215, 24.49392589 ], [ 118.17374502, 24.49380177 ], [ 118.17153057, 24.49256243 ], [ 118.17041179, 24.49218827 ], [ 118.17036668, 24.49216018 ], [ 118.17035164, 24.49216815 ], [ 118.16492513, 24.49035164 ], [ 118.15665275, 24.48689567 ], [ 118.14867447, 24.48519699 ], [ 118.13959374, 24.48325341 ], [ 118.13904648, 24.48401266 ], [ 118.14026578, 24.48960947 ], [ 118.14040505, 24.49013178 ], [ 118.1404912, 24.490647 ], [ 118.14078276, 24.49198567 ], [ 118.14081782, 24.49223576 ], [ 118.14075668, 24.49227867 ], [ 118.13865595, 24.4935025 ], [ 118.13685002, 24.49383073 ], [ 118.13681595, 24.49382568 ], [ 118.13675682, 24.49384759 ], [ 118.1328917, 24.49454995 ], [ 118.13214619, 24.49452288 ], [ 118.13204199, 24.49438171 ], [ 118.13178346, 24.49451036 ], [ 118.12942582, 24.4944241 ], [ 118.12940578, 24.49441707 ], [ 118.12938574, 24.49442304 ], [ 118.12712645, 24.49434106 ], [ 118.12436553, 24.49285441 ], [ 118.12336177, 24.49286023 ], [ 118.12331669, 24.49282117 ], [ 118.1232636, 24.49286111 ], [ 118.12299409, 24.49336588 ], [ 118.12281173, 24.49397176 ], [ 118.12271653, 24.49452473 ], [ 118.12266442, 24.49485472 ], [ 118.12134074, 24.5008821 ], [ 118.12133974, 24.50089411 ], [ 118.12133473, 24.5009121 ], [ 118.12125958, 24.50125107 ], [ 118.12125858, 24.50126607 ], [ 118.12123854, 24.50135206 ], [ 118.12121449, 24.50146405 ], [ 118.12119846, 24.50153604 ], [ 118.12119345, 24.50155404 ], [ 118.12113934, 24.50180201 ], [ 118.12113634, 24.50181801 ], [ 118.12113333, 24.50183001 ], [ 118.12105518, 24.50207896 ], [ 118.12100407, 24.50241895 ], [ 118.1206153, 24.50419078 ], [ 118.1198079, 24.50545309 ], [ 118.1187141, 24.50621507 ], [ 118.11734199, 24.50597368 ], [ 118.11320017, 24.50373967 ], [ 118.10549099, 24.50253833 ], [ 118.10053255, 24.50031295 ], [ 118.09874121, 24.49972336 ], [ 118.09871819, 24.49971436 ], [ 118.09833892, 24.49959025 ], [ 118.09832592, 24.49958725 ], [ 118.09529704, 24.49859063 ], [ 118.08895062, 24.49511742 ], [ 118.08585019, 24.49272386 ], [ 118.08583119, 24.49271086 ], [ 118.08582119, 24.49270086 ], [ 118.0831412, 24.49063259 ], [ 118.08063172, 24.48612716 ], [ 118.07896517, 24.48412785 ], [ 118.07704273, 24.48355706 ], [ 118.07702373, 24.48355208 ], [ 118.07699574, 24.48354309 ], [ 118.07565724, 24.48314604 ], [ 118.07318056, 24.48016865 ], [ 118.07315757, 24.48014067 ], [ 118.07308162, 24.48004972 ], [ 118.07305564, 24.48001874 ], [ 118.07297169, 24.4799178 ], [ 118.07292171, 24.47992184 ], [ 118.07289273, 24.47982285 ], [ 118.07238005, 24.47920523 ], [ 118.07214518, 24.47915244 ], [ 118.07219016, 24.47908738 ], [ 118.07223215, 24.47902834 ], [ 118.07170649, 24.47839673 ], [ 118.0712028, 24.47822119 ], [ 118.07009952, 24.47785625 ], [ 118.06932707, 24.477465 ], [ 118.06831984, 24.47680999 ], [ 118.067191838890281, 24.476610261051249 ], [ 118.067382643, 24.477055083 ], [ 118.068537244, 24.484291945000098 ], [ 118.069279298, 24.490070033000102 ], [ 118.070733813, 24.497345603 ], [ 118.072557352, 24.5029046340001 ], [ 118.077498314, 24.516577431 ], [ 118.080451072, 24.524739553000099 ], [ 118.081002754, 24.528112640000099 ], [ 118.084077104, 24.535190972000098 ], [ 118.086544975, 24.540080628000101 ], [ 118.088548141, 24.543340461000099 ], [ 118.091481817, 24.54697241 ], [ 118.095308391, 24.550740805 ], [ 118.099372923, 24.553315775 ], [ 118.10060684, 24.55413621 ], [ 118.101634664, 24.554729613000099 ], [ 118.104116824, 24.556512797 ], [ 118.106734431, 24.557941274 ], [ 118.117823947, 24.560033114000099 ], [ 118.125915461, 24.562071325 ], [ 118.13039783, 24.5639923570001 ], [ 118.13322046, 24.564487381 ], [ 118.136034345, 24.564221533 ], [ 118.137614694611145, 24.564301963606066 ], [ 118.14019235, 24.56324898 ], [ 118.14324043, 24.56032174 ], [ 118.14640006, 24.55599272 ], [ 118.14826673, 24.55224763 ], [ 118.15072373, 24.55049181 ], [ 118.150723758340291, 24.550491804344052 ], [ 118.150723805, 24.5504917710001 ], [ 118.153648945, 24.5499079850001 ], [ 118.157399182, 24.549908868 ], [ 118.16535912109542, 24.548621666980846 ], [ 118.18688671, 24.53960841 ], [ 118.19390815, 24.53328852 ], [ 118.19683385, 24.52837361 ], [ 118.19847385, 24.52088424 ], [ 118.19968932, 24.50759336 ] ] ] ] }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "集美区",
                        "id": "jimei"
                    },
                    "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 117.93984516, 24.75340145 ], [ 117.94658879, 24.74933533 ], [ 117.95135382, 24.74452321 ], [ 117.95247363, 24.74298474 ], [ 117.95340175, 24.74201465 ], [ 117.95435678, 24.74110046 ], [ 117.95491161, 24.74078316 ], [ 117.95562406, 24.74077945 ], [ 117.95577972, 24.74077907 ], [ 117.95634446, 24.74105868 ], [ 117.9576285, 24.74238244 ], [ 117.95866208, 24.74356679 ], [ 117.95973745, 24.74580193 ], [ 117.96031896, 24.74763832 ], [ 117.9625763, 24.75224717 ], [ 117.96697649, 24.75221845 ], [ 117.97739148, 24.74712343 ], [ 117.9812192, 24.74357943 ], [ 117.98392798, 24.73853469 ], [ 117.98720893, 24.73549802 ], [ 117.9943961, 24.73947093 ], [ 118.00595028, 24.73939306 ], [ 118.0091967, 24.73283681 ], [ 118.01465723, 24.7267702 ], [ 118.02231362, 24.72169193 ], [ 118.02502228, 24.71614588 ], [ 118.02385973, 24.70811138 ], [ 118.02927639, 24.6980235 ], [ 118.03797617, 24.68539865 ], [ 118.05255355, 24.66883904 ], [ 118.06135447, 24.66676398 ], [ 118.06178301, 24.66674638 ], [ 118.06792953, 24.66521562 ], [ 118.08001607, 24.66261824 ], [ 118.08438406, 24.65906912 ], [ 118.0848696, 24.65202895 ], [ 118.08810863, 24.64446695 ], [ 118.09381293, 24.64149237 ], [ 118.09471542, 24.64121241 ], [ 118.0979285, 24.64005484 ], [ 118.10529113, 24.63654344 ], [ 118.11234978, 24.63222197 ], [ 118.11548425, 24.63070058 ], [ 118.11931332, 24.62765723 ], [ 118.11980852, 24.62212561 ], [ 118.11848909, 24.61271095 ], [ 118.11900917, 24.60918935 ], [ 118.11953916, 24.60717482 ], [ 118.12258649, 24.60349299 ], [ 118.12305535, 24.6027595 ], [ 118.12312447, 24.60266357 ], [ 118.1231375, 24.60263759 ], [ 118.1231375, 24.60262359 ], [ 118.12316755, 24.60258962 ], [ 118.12321164, 24.60253167 ], [ 118.12325772, 24.60244972 ], [ 118.12325472, 24.60242472 ], [ 118.12344607, 24.60214393 ], [ 118.12358533, 24.60192408 ], [ 118.12493985, 24.60025362 ], [ 118.12535563, 24.59990011 ], [ 118.12587761, 24.59941974 ], [ 118.12619824, 24.59888211 ], [ 118.1266501, 24.59852166 ], [ 118.12736144, 24.59833756 ], [ 118.12879417, 24.59814843 ], [ 118.13217182, 24.59811008 ], [ 118.13805837, 24.59526573 ], [ 118.13885616, 24.59469296 ], [ 118.14040166, 24.59338936 ], [ 118.14561105, 24.58622162 ], [ 118.14410862, 24.58563303 ], [ 118.14107079, 24.58456493 ], [ 118.13300482, 24.57990522 ], [ 118.1214396, 24.57488306 ], [ 118.12058921, 24.57451411 ], [ 118.12019658, 24.57435868 ], [ 118.11884345, 24.57382323 ], [ 118.11641281, 24.57252276 ], [ 118.11257561, 24.56942822 ], [ 118.11210701, 24.56900682 ], [ 118.10759173, 24.56557243 ], [ 118.10754868, 24.5655644 ], [ 118.10567285, 24.56266211 ], [ 118.10371009, 24.55979491 ], [ 118.10276242, 24.55678825 ], [ 118.100944, 24.55442136 ], [ 118.09982414, 24.55370495 ], [ 118.09825501, 24.5530975 ], [ 118.09563438, 24.55209598 ], [ 118.09340128, 24.55073972 ], [ 118.08931502, 24.54649365 ], [ 118.08466077, 24.53873414 ], [ 118.0773845, 24.5407523 ], [ 118.07387681, 24.54136412 ], [ 118.07041272, 24.54159542 ], [ 118.06870185, 24.54220229 ], [ 118.06749573, 24.54254568 ], [ 118.0673998, 24.5426168 ], [ 118.06681826, 24.54272049 ], [ 118.04350552, 24.54499058 ], [ 118.02922443, 24.54620233 ], [ 118.01853685, 24.54711027 ], [ 117.99500379, 24.55096535 ], [ 117.99035992, 24.55305568 ], [ 117.98677503, 24.55426864 ], [ 117.98262562, 24.55543219 ], [ 117.98188765, 24.55583342 ], [ 117.98179286, 24.55669778 ], [ 117.98200024, 24.55726421 ], [ 117.98318113, 24.56874464 ], [ 117.98005654, 24.5726592 ], [ 117.97515254, 24.57771785 ], [ 117.96913804, 24.58178009 ], [ 117.96880786, 24.58220703 ], [ 117.95920822, 24.58175637 ], [ 117.95551048, 24.5821095 ], [ 117.9455739, 24.58922225 ], [ 117.9409473, 24.59769792 ], [ 117.93979353, 24.60655649 ], [ 117.94094717, 24.6138736 ], [ 117.94365528, 24.61836945 ], [ 117.94582492, 24.6251572 ], [ 117.94860244, 24.62865735 ], [ 117.94973095, 24.63267195 ], [ 117.94811682, 24.63670255 ], [ 117.94593769, 24.63973223 ], [ 117.93876336, 24.64642933 ], [ 117.94084497, 24.64755546 ], [ 117.94142998, 24.64796835 ], [ 117.94197604, 24.64848829 ], [ 117.94216369, 24.64890293 ], [ 117.94263089, 24.64914301 ], [ 117.94304715, 24.64952819 ], [ 117.94340253, 24.64960449 ], [ 117.94443771, 24.6496374 ], [ 117.94552873, 24.64986116 ], [ 117.94603182, 24.64967011 ], [ 117.94648197, 24.64991117 ], [ 117.94769167, 24.65034159 ], [ 117.95002599, 24.65223148 ], [ 117.95078929, 24.65469176 ], [ 117.95098972, 24.6570903 ], [ 117.95143171, 24.65869629 ], [ 117.95244746, 24.66086395 ], [ 117.9538963, 24.66252356 ], [ 117.9541566, 24.66469792 ], [ 117.95310666, 24.66688137 ], [ 117.95304663, 24.66911048 ], [ 117.9548078, 24.67030831 ], [ 117.95870504, 24.67183775 ], [ 117.96066635, 24.67395276 ], [ 117.96066614, 24.6769867 ], [ 117.95956445, 24.68054143 ], [ 117.95882689, 24.6841572 ], [ 117.95758545, 24.68776619 ], [ 117.95653561, 24.69046469 ], [ 117.95505062, 24.69379518 ], [ 117.95317635, 24.69764548 ], [ 117.95206541, 24.70126292 ], [ 117.95126683, 24.70441062 ], [ 117.951588, 24.70681679 ], [ 117.9516666, 24.71024746 ], [ 117.95079828, 24.71146338 ], [ 117.9466672, 24.71290735 ], [ 117.9436645, 24.71469545 ], [ 117.94229267, 24.71739404 ], [ 117.94112136, 24.72106511 ], [ 117.94044423, 24.72444722 ], [ 117.93915094, 24.72938434 ], [ 117.93853467, 24.73252927 ], [ 117.93717243, 24.73671744 ], [ 117.93674683, 24.73987098 ], [ 117.93639115, 24.74262741 ], [ 117.93633903, 24.74548931 ], [ 117.93797942, 24.74817824 ], [ 117.93911647, 24.75109397 ], [ 117.93981921, 24.75326451 ], [ 117.93984516, 24.75340145 ] ] ] ] }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "海沧区",
                        "id": "haicang"
                    },
                    "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 118.04407936, 24.42099366 ], [ 118.03890425, 24.42163713 ], [ 118.03532763, 24.42223762 ], [ 118.03176744, 24.4225514 ], [ 118.02358981, 24.42327588 ], [ 118.01227841, 24.42241962 ], [ 118.00114053, 24.42146262 ], [ 118.00068981, 24.42142398 ], [ 117.99728644, 24.42232451 ], [ 117.99532499, 24.42308564 ], [ 117.99440453, 24.42350643 ], [ 117.99114974, 24.42484562 ], [ 117.98961308, 24.4253794 ], [ 117.9877294, 24.42591522 ], [ 117.98677403, 24.42698834 ], [ 117.98622749, 24.42813823 ], [ 117.98552435, 24.42985671 ], [ 117.9842228, 24.43283623 ], [ 117.98343294, 24.43398883 ], [ 117.98231297, 24.43532145 ], [ 117.98030845, 24.43639161 ], [ 117.97876268, 24.43673622 ], [ 117.9768449, 24.43689285 ], [ 117.97562917, 24.43697338 ], [ 117.9712986, 24.43758784 ], [ 117.9702922, 24.43777469 ], [ 117.96702838, 24.43953903 ], [ 117.96335718, 24.44302053 ], [ 117.95935533, 24.44699061 ], [ 117.95630883, 24.45207613 ], [ 117.95385282, 24.45666787 ], [ 117.95210908, 24.46213893 ], [ 117.95219585, 24.46292087 ], [ 117.95334131, 24.4650996 ], [ 117.95318456, 24.46631418 ], [ 117.95351479, 24.46737159 ], [ 117.95453849, 24.46915748 ], [ 117.95528579, 24.47028789 ], [ 117.95597916, 24.47198451 ], [ 117.95604895, 24.47283548 ], [ 117.95605788, 24.47351658 ], [ 117.95475569, 24.47386677 ], [ 117.95358414, 24.47455465 ], [ 117.95308915, 24.47495388 ], [ 117.95303722, 24.47557911 ], [ 117.9532627, 24.47624969 ], [ 117.95592281, 24.47883979 ], [ 117.95756787, 24.48306345 ], [ 117.95753892, 24.48319754 ], [ 117.95756187, 24.48325049 ], [ 117.95763769, 24.48331231 ], [ 117.95746395, 24.48514403 ], [ 117.9567873, 24.48738805 ], [ 117.95746968, 24.4889056 ], [ 117.95386148, 24.50417954 ], [ 117.95072895, 24.50430778 ], [ 117.94961798, 24.50695163 ], [ 117.9473702, 24.50861775 ], [ 117.94455826, 24.50994481 ], [ 117.94249276, 24.51133012 ], [ 117.94093921, 24.51322637 ], [ 117.93981887, 24.51529275 ], [ 117.93831815, 24.51604159 ], [ 117.93525464, 24.51554786 ], [ 117.93281584, 24.51641194 ], [ 117.9316262, 24.51825002 ], [ 117.93098495, 24.51860603 ], [ 117.93035949, 24.52158633 ], [ 117.92929243, 24.52561436 ], [ 117.92657602, 24.52965356 ], [ 117.92308705, 24.53180812 ], [ 117.92305208, 24.53186517 ], [ 117.92073473, 24.53392696 ], [ 117.91853912, 24.53485628 ], [ 117.91644829, 24.53493019 ], [ 117.91378349, 24.53471931 ], [ 117.91232499, 24.53473035 ], [ 117.91083239, 24.53490833 ], [ 117.90993856, 24.53513988 ], [ 117.90876674, 24.53543155 ], [ 117.90811679, 24.53577692 ], [ 117.9076818, 24.53617617 ], [ 117.9074048, 24.53649133 ], [ 117.90716179, 24.53691649 ], [ 117.90704077, 24.53728758 ], [ 117.90692768, 24.53868978 ], [ 117.90661459, 24.54005706 ], [ 117.9067454, 24.54280828 ], [ 117.90737821, 24.54498922 ], [ 117.90833298, 24.54704197 ], [ 117.90846379, 24.54967616 ], [ 117.90671881, 24.55134813 ], [ 117.90528668, 24.55324487 ], [ 117.90416741, 24.55616651 ], [ 117.90379822, 24.55837881 ], [ 117.90526105, 24.56223566 ], [ 117.90602486, 24.56520862 ], [ 117.90855049, 24.56818171 ], [ 117.9089402, 24.57161877 ], [ 117.90612913, 24.57569936 ], [ 117.90351684, 24.5777724 ], [ 117.90094827, 24.57921607 ], [ 117.89813631, 24.58054245 ], [ 117.89588823, 24.58209054 ], [ 117.8936319, 24.5837644 ], [ 117.89194769, 24.58595222 ], [ 117.88983005, 24.58778776 ], [ 117.88764322, 24.58860501 ], [ 117.88526494, 24.59004402 ], [ 117.88276531, 24.5913047 ], [ 117.8813336, 24.5931829 ], [ 117.88396335, 24.59434056 ], [ 117.88661074, 24.59668001 ], [ 117.88792973, 24.59913569 ], [ 117.88869325, 24.60080306 ], [ 117.88832875, 24.60372206 ], [ 117.88809435, 24.60653009 ], [ 117.88865865, 24.6090444 ], [ 117.88779972, 24.61202919 ], [ 117.88768645, 24.61461123 ], [ 117.88894539, 24.61603876 ], [ 117.89081978, 24.61654236 ], [ 117.89376175, 24.61584696 ], [ 117.89696443, 24.61503219 ], [ 117.9013468, 24.61604284 ], [ 117.90461025, 24.61637701 ], [ 117.90793423, 24.61607465 ], [ 117.91075478, 24.61589611 ], [ 117.91375786, 24.61576707 ], [ 117.91602278, 24.61725332 ], [ 117.91760178, 24.619536 ], [ 117.91866901, 24.62153205 ], [ 117.92018778, 24.62490863 ], [ 117.92133373, 24.62816749 ], [ 117.92297424, 24.63096471 ], [ 117.92437086, 24.6336021 ], [ 117.92562956, 24.63565157 ], [ 117.92720089, 24.63719454 ], [ 117.93028138, 24.63913423 ], [ 117.93224692, 24.64026027 ], [ 117.93273228, 24.64062452 ], [ 117.93363111, 24.64059908 ], [ 117.93498328, 24.64076987 ], [ 117.93550653, 24.64098399 ], [ 117.93575816, 24.64120857 ], [ 117.93610666, 24.64137898 ], [ 117.93666081, 24.64201403 ], [ 117.93683552, 24.64257273 ], [ 117.93683748, 24.64306573 ], [ 117.93709008, 24.64358929 ], [ 117.93768714, 24.64429425 ], [ 117.93797969, 24.64445273 ], [ 117.93827416, 24.64563921 ], [ 117.93876336, 24.64642933 ], [ 117.94593769, 24.63973223 ], [ 117.94811682, 24.63670255 ], [ 117.94973095, 24.63267195 ], [ 117.94860244, 24.62865735 ], [ 117.94582492, 24.6251572 ], [ 117.94365528, 24.61836945 ], [ 117.94094717, 24.6138736 ], [ 117.93979353, 24.60655649 ], [ 117.9409473, 24.59769792 ], [ 117.9455739, 24.58922225 ], [ 117.95551048, 24.5821095 ], [ 117.95920822, 24.58175637 ], [ 117.96880786, 24.58220703 ], [ 117.96913804, 24.58178009 ], [ 117.97515254, 24.57771785 ], [ 117.98005654, 24.5726592 ], [ 117.98318113, 24.56874464 ], [ 117.98200024, 24.55726421 ], [ 117.98179286, 24.55669778 ], [ 117.98188765, 24.55583342 ], [ 117.98262562, 24.55543219 ], [ 117.98677503, 24.55426864 ], [ 117.99035992, 24.55305568 ], [ 117.99500379, 24.55096535 ], [ 118.01853685, 24.54711027 ], [ 118.02922443, 24.54620233 ], [ 118.04350552, 24.54499058 ], [ 118.06681826, 24.54272049 ], [ 118.0673998, 24.5426168 ], [ 118.06749573, 24.54254568 ], [ 118.06870185, 24.54220229 ], [ 118.07041272, 24.54159542 ], [ 118.07387681, 24.54136412 ], [ 118.0773845, 24.5407523 ], [ 118.08466077, 24.53873414 ], [ 118.08173504, 24.5355581 ], [ 118.08027636, 24.53349167 ], [ 118.07969453, 24.53257591 ], [ 118.07931267, 24.53162104 ], [ 118.07827018, 24.52795529 ], [ 118.0746412, 24.51729073 ], [ 118.06903066, 24.49999378 ], [ 118.06901467, 24.49993979 ], [ 118.06892778, 24.49932279 ], [ 118.06670504, 24.49164219 ], [ 118.06660117, 24.49101322 ], [ 118.065846, 24.48829171 ], [ 118.0652377, 24.4859471 ], [ 118.06420489, 24.48251787 ], [ 118.06353571, 24.48003535 ], [ 118.06285055, 24.47783091 ], [ 118.06230325, 24.47577931 ], [ 118.06163413, 24.47332984 ], [ 118.06097506, 24.47020424 ], [ 118.05961185, 24.46665162 ], [ 118.05747261, 24.46398043 ], [ 118.05558621, 24.4618171 ], [ 118.05551331, 24.46173321 ], [ 118.05387274, 24.45936356 ], [ 118.05377689, 24.4592547 ], [ 118.05159825, 24.45681312 ], [ 118.05118194, 24.45609675 ], [ 118.04857639, 24.45161682 ], [ 118.04728282, 24.44775162 ], [ 118.04637091, 24.44030198 ], [ 118.04556379, 24.43369728 ], [ 118.04475573, 24.42667747 ], [ 118.04413123, 24.42158368 ], [ 118.04407936, 24.42099366 ] ] ] ] }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "同安区",
                        "id": "tongan"
                    },
                    "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 118.14561105, 24.58622162 ], [ 118.14040166, 24.59338936 ], [ 118.13885616, 24.59469296 ], [ 118.13805837, 24.59526573 ], [ 118.13217182, 24.59811008 ], [ 118.12879417, 24.59814843 ], [ 118.12736144, 24.59833756 ], [ 118.1266501, 24.59852166 ], [ 118.12619824, 24.59888211 ], [ 118.12587761, 24.59941974 ], [ 118.12535563, 24.59990011 ], [ 118.12493985, 24.60025362 ], [ 118.12358533, 24.60192408 ], [ 118.12344607, 24.60214393 ], [ 118.12325472, 24.60242472 ], [ 118.12325772, 24.60244972 ], [ 118.12321164, 24.60253167 ], [ 118.12316755, 24.60258962 ], [ 118.1231375, 24.60262359 ], [ 118.1231375, 24.60263759 ], [ 118.12312447, 24.60266357 ], [ 118.12305535, 24.6027595 ], [ 118.12258649, 24.60349299 ], [ 118.11953916, 24.60717482 ], [ 118.11900917, 24.60918935 ], [ 118.11848909, 24.61271095 ], [ 118.11980852, 24.62212561 ], [ 118.11931332, 24.62765723 ], [ 118.11548425, 24.63070058 ], [ 118.11234978, 24.63222197 ], [ 118.10529113, 24.63654344 ], [ 118.0979285, 24.64005484 ], [ 118.09471542, 24.64121241 ], [ 118.09381293, 24.64149237 ], [ 118.08810863, 24.64446695 ], [ 118.0848696, 24.65202895 ], [ 118.08438406, 24.65906912 ], [ 118.08001607, 24.66261824 ], [ 118.06792953, 24.66521562 ], [ 118.06178301, 24.66674638 ], [ 118.06135447, 24.66676398 ], [ 118.05255355, 24.66883904 ], [ 118.03797617, 24.68539865 ], [ 118.02927639, 24.6980235 ], [ 118.02385973, 24.70811138 ], [ 118.02502228, 24.71614588 ], [ 118.02231362, 24.72169193 ], [ 118.01465723, 24.7267702 ], [ 118.0091967, 24.73283681 ], [ 118.00595028, 24.73939306 ], [ 117.9943961, 24.73947093 ], [ 117.98720893, 24.73549802 ], [ 117.98392798, 24.73853469 ], [ 117.9812192, 24.74357943 ], [ 117.97739148, 24.74712343 ], [ 117.96697649, 24.75221845 ], [ 117.9625763, 24.75224717 ], [ 117.96031896, 24.74763832 ], [ 117.95973745, 24.74580193 ], [ 117.95866208, 24.74356679 ], [ 117.9576285, 24.74238244 ], [ 117.95634446, 24.74105868 ], [ 117.95577972, 24.74077907 ], [ 117.95562406, 24.74077945 ], [ 117.95491161, 24.74078316 ], [ 117.95435678, 24.74110046 ], [ 117.95340175, 24.74201465 ], [ 117.95247363, 24.74298474 ], [ 117.95135382, 24.74452321 ], [ 117.94658879, 24.74933533 ], [ 117.93984516, 24.75340145 ], [ 117.94027032, 24.75567348 ], [ 117.94066147, 24.75864852 ], [ 117.94149489, 24.76174068 ], [ 117.94246613, 24.76359364 ], [ 117.94316081, 24.76543012 ], [ 117.94517423, 24.76576102 ], [ 117.94812466, 24.7667247 ], [ 117.95026833, 24.76841683 ], [ 117.95043399, 24.76857944 ], [ 117.95057255, 24.77092493 ], [ 117.95026892, 24.77424733 ], [ 117.9520312, 24.77624215 ], [ 117.95329739, 24.77859 ], [ 117.9543829, 24.78116321 ], [ 117.95546729, 24.78493927 ], [ 117.95598794, 24.78779774 ], [ 117.95657043, 24.79106101 ], [ 117.95657811, 24.79524058 ], [ 117.95603995, 24.80023639 ], [ 117.95580626, 24.80309866 ], [ 117.95512053, 24.80637197 ], [ 117.95463439, 24.80900186 ], [ 117.9534627, 24.81175334 ], [ 117.95240377, 24.81388057 ], [ 117.9512141, 24.81548712 ], [ 117.95398329, 24.81604665 ], [ 117.95549393, 24.8173629 ], [ 117.95637881, 24.81987648 ], [ 117.95664798, 24.82319645 ], [ 117.95533679, 24.82423451 ], [ 117.95440861, 24.82693842 ], [ 117.95561479, 24.82973721 ], [ 117.95624826, 24.83168345 ], [ 117.95569326, 24.83490242 ], [ 117.95702908, 24.8380398 ], [ 117.95785399, 24.84136637 ], [ 117.95821897, 24.84410813 ], [ 117.95778489, 24.8449631 ], [ 117.95655258, 24.84593501 ], [ 117.95404393, 24.84754185 ], [ 117.95163993, 24.84804538 ], [ 117.94225766, 24.84609655 ], [ 117.93840487, 24.84612079 ], [ 117.9356618, 24.84764641 ], [ 117.93341069, 24.8502488 ], [ 117.9329372, 24.85168638 ], [ 117.92586555, 24.86079939 ], [ 117.92455365, 24.86247282 ], [ 117.92374624, 24.86430956 ], [ 117.92353841, 24.86444179 ], [ 117.92338153, 24.86456296 ], [ 117.92328661, 24.86462007 ], [ 117.92313873, 24.86469123 ], [ 117.92301782, 24.86476936 ], [ 117.92155093, 24.8656879 ], [ 117.92002992, 24.86725531 ], [ 117.91709872, 24.86731212 ], [ 117.91546646, 24.86840638 ], [ 117.91353215, 24.87013366 ], [ 117.91134475, 24.87144799 ], [ 117.90834219, 24.87331645 ], [ 117.90847199, 24.87599703 ], [ 117.90867179, 24.87845961 ], [ 117.90993044, 24.88057264 ], [ 117.91301946, 24.88251241 ], [ 117.91647396, 24.88277864 ], [ 117.92030967, 24.88214207 ], [ 117.92293976, 24.88075237 ], [ 117.92549965, 24.87850556 ], [ 117.92731301, 24.8762035 ], [ 117.92893645, 24.87379157 ], [ 117.92999446, 24.87075144 ], [ 117.93173946, 24.869431 ], [ 117.93438597, 24.87028168 ], [ 117.9377191, 24.87186577 ], [ 117.94048768, 24.87322952 ], [ 117.94269195, 24.87408216 ], [ 117.94569467, 24.87349315 ], [ 117.94821199, 24.87280088 ], [ 117.95078099, 24.87187131 ], [ 117.95303739, 24.87111623 ], [ 117.95491154, 24.86904708 ], [ 117.95690833, 24.86657756 ], [ 117.95803596, 24.86416009 ], [ 117.95908679, 24.86101086 ], [ 117.96038796, 24.8583679 ], [ 117.96232354, 24.85612519 ], [ 117.96414623, 24.85474058 ], [ 117.96544819, 24.85244639 ], [ 117.96638596, 24.85100505 ], [ 117.96864228, 24.85053795 ], [ 117.97065595, 24.85242213 ], [ 117.97248707, 24.85361983 ], [ 117.97473006, 24.85422936 ], [ 117.97789543, 24.85485611 ], [ 117.98110647, 24.85632448 ], [ 117.9841877, 24.85826305 ], [ 117.98740847, 24.85991215 ], [ 117.99073293, 24.86058499 ], [ 117.99324965, 24.86154121 ], [ 117.99420482, 24.86274614 ], [ 117.992009, 24.86441262 ], [ 117.99044635, 24.86613815 ], [ 117.98863243, 24.86757647 ], [ 117.98663596, 24.86976622 ], [ 117.98601059, 24.87177384 ], [ 117.98620987, 24.87389397 ], [ 117.98779024, 24.87577995 ], [ 117.98956109, 24.87725739 ], [ 117.9912013, 24.87857323 ], [ 117.99215645, 24.88009013 ], [ 117.99802465, 24.88053731 ], [ 118.00351914, 24.87848793 ], [ 118.00682685, 24.87796308 ], [ 118.00848412, 24.87946094 ], [ 118.00961277, 24.8824682 ], [ 118.00688711, 24.88600583 ], [ 117.99975996, 24.89057769 ], [ 117.98986508, 24.89315634 ], [ 117.98547239, 24.89570027 ], [ 117.98605449, 24.89921304 ], [ 117.98828494, 24.9022139 ], [ 117.99214785, 24.9026921 ], [ 117.99927377, 24.89862307 ], [ 118.00421294, 24.89557355 ], [ 118.00805918, 24.89504611 ], [ 118.01028191, 24.89653933 ], [ 118.01031652, 24.90055868 ], [ 118.01089763, 24.90457542 ], [ 118.01421452, 24.90555861 ], [ 118.02025669, 24.90400967 ], [ 118.02575105, 24.90196399 ], [ 118.03181974, 24.90242428 ], [ 118.03457271, 24.90140065 ], [ 118.03619545, 24.89837319 ], [ 118.03617866, 24.89586057 ], [ 118.03557934, 24.89033574 ], [ 118.03719426, 24.88579954 ], [ 118.04047584, 24.88276246 ], [ 118.04362799, 24.8806709 ], [ 118.04378372, 24.88051659 ], [ 118.04513839, 24.87886298 ], [ 118.04666595, 24.87550632 ], [ 118.04769936, 24.87317157 ], [ 118.05058189, 24.87046141 ], [ 118.05304824, 24.86960006 ], [ 118.05414171, 24.86909022 ], [ 118.0569198, 24.87158429 ], [ 118.05860445, 24.87508919 ], [ 118.06082767, 24.87809149 ], [ 118.06523828, 24.87805957 ], [ 118.06688794, 24.8770447 ], [ 118.06671944, 24.87211654 ], [ 118.06738238, 24.8656706 ], [ 118.06756531, 24.86458353 ], [ 118.06804206, 24.86299119 ], [ 118.06929623, 24.86187796 ], [ 118.06944929, 24.85963408 ], [ 118.06986612, 24.85804384 ], [ 118.07049076, 24.85743627 ], [ 118.07277447, 24.85689813 ], [ 118.07555298, 24.85989339 ], [ 118.08057117, 24.86639416 ], [ 118.09274464, 24.87233887 ], [ 118.10159222, 24.87629688 ], [ 118.10470102, 24.877841 ], [ 118.10591633, 24.87711572 ], [ 118.10855525, 24.87738524 ], [ 118.11076975, 24.88018839 ], [ 118.11293129, 24.88424251 ], [ 118.11536154, 24.88653628 ], [ 118.11773292, 24.88897418 ], [ 118.12057229, 24.89113781 ], [ 118.12486053, 24.89323544 ], [ 118.1280122, 24.89545112 ], [ 118.130035, 24.89693362 ], [ 118.13298688, 24.8974357 ], [ 118.13662458, 24.89637925 ], [ 118.13950694, 24.89522092 ], [ 118.14246761, 24.89491877 ], [ 118.14575824, 24.89436139 ], [ 118.14851871, 24.89508908 ], [ 118.15023779, 24.89567304 ], [ 118.15173939, 24.89621166 ], [ 118.15211212, 24.898653 ], [ 118.15667823, 24.90031711 ], [ 118.16356243, 24.90026294 ], [ 118.16879667, 24.89972089 ], [ 118.17035966, 24.89893694 ], [ 118.17205213, 24.89596253 ], [ 118.17233886, 24.89580809 ], [ 118.17344968, 24.89523325 ], [ 118.1745695, 24.89502437 ], [ 118.17528127, 24.8949917 ], [ 118.1760622, 24.89512714 ], [ 118.17659149, 24.89546307 ], [ 118.17756384, 24.89627876 ], [ 118.17803297, 24.89667157 ], [ 118.17860637, 24.89694459 ], [ 118.18022937, 24.8966396 ], [ 118.18292002, 24.8948487 ], [ 118.18681728, 24.89511454 ], [ 118.19014999, 24.8954322 ], [ 118.19245037, 24.89312934 ], [ 118.1950714, 24.88996701 ], [ 118.19712005, 24.88691764 ], [ 118.19928075, 24.8849162 ], [ 118.19795305, 24.88372935 ], [ 118.19243307, 24.88276871 ], [ 118.18906487, 24.87626293 ], [ 118.18903899, 24.87375021 ], [ 118.19230275, 24.86919927 ], [ 118.20161607, 24.86359443 ], [ 118.20801256, 24.86150642 ], [ 118.2095665, 24.8596916 ], [ 118.21144091, 24.85802507 ], [ 118.21394019, 24.85692006 ], [ 118.21739475, 24.85551986 ], [ 118.21945186, 24.85465395 ], [ 118.22107523, 24.85366554 ], [ 118.22156105, 24.85143223 ], [ 118.22186462, 24.84925376 ], [ 118.22141316, 24.84702065 ], [ 118.21958268, 24.84571717 ], [ 118.21856631, 24.8441744 ], [ 118.21942577, 24.84125057 ], [ 118.22216885, 24.83768041 ], [ 118.22248931, 24.83733972 ], [ 118.22367901, 24.83523693 ], [ 118.22475446, 24.8339839 ], [ 118.22445934, 24.83045609 ], [ 118.22471179, 24.8285695 ], [ 118.22511041, 24.82680499 ], [ 118.22551, 24.82542044 ], [ 118.22535391, 24.82404049 ], [ 118.22438176, 24.82316886 ], [ 118.22011111, 24.82219941 ], [ 118.21969455, 24.82170008 ], [ 118.21994607, 24.81943657 ], [ 118.22306231, 24.81970321 ], [ 118.22628226, 24.82072952 ], [ 118.22926758, 24.82132737 ], [ 118.23213245, 24.82158787 ], [ 118.23529925, 24.82161722 ], [ 118.23890094, 24.82152931 ], [ 118.24070712, 24.82111971 ], [ 118.24225104, 24.82031201 ], [ 118.24329265, 24.81922422 ], [ 118.24390901, 24.81831035 ], [ 118.24463842, 24.81699952 ], [ 118.24537577, 24.81643258 ], [ 118.24771064, 24.81555854 ], [ 118.25355991, 24.81227366 ], [ 118.25601505, 24.81036696 ], [ 118.25642411, 24.8092319 ], [ 118.25693533, 24.80558406 ], [ 118.25684871, 24.80021366 ], [ 118.25612895, 24.79758123 ], [ 118.25596315, 24.79481858 ], [ 118.25663224, 24.79305347 ], [ 118.2566233, 24.79217456 ], [ 118.25551243, 24.79117912 ], [ 118.25412354, 24.78955579 ], [ 118.25172055, 24.78672078 ], [ 118.2511556, 24.78483909 ], [ 118.25195386, 24.78269709 ], [ 118.25263105, 24.78105806 ], [ 118.25192906, 24.77980636 ], [ 118.25164212, 24.77842656 ], [ 118.25286536, 24.77690936 ], [ 118.25477455, 24.77551085 ], [ 118.25760357, 24.77300388 ], [ 118.25854954, 24.77161454 ], [ 118.25858457, 24.77114156 ], [ 118.25821168, 24.77025183 ], [ 118.25720488, 24.7691844 ], [ 118.25576407, 24.76789113 ], [ 118.25408014, 24.76688484 ], [ 118.25257909, 24.76621637 ], [ 118.25133798, 24.76577473 ], [ 118.25064391, 24.76509994 ], [ 118.25020189, 24.7642511 ], [ 118.25012397, 24.76294722 ], [ 118.25011407, 24.76152934 ], [ 118.24960303, 24.76051251 ], [ 118.2482838, 24.75916282 ], [ 118.24618311, 24.75940597 ], [ 118.24316279, 24.7598079 ], [ 118.24068945, 24.75970462 ], [ 118.23417971, 24.75941477 ], [ 118.23348614, 24.75879153 ], [ 118.23333809, 24.75766155 ], [ 118.23386768, 24.75589891 ], [ 118.23398894, 24.75376213 ], [ 118.23228848, 24.75258545 ], [ 118.23143776, 24.75119214 ], [ 118.23092535, 24.74983597 ], [ 118.23053506, 24.74830687 ], [ 118.23052616, 24.74677597 ], [ 118.23070044, 24.74535517 ], [ 118.23111694, 24.74416147 ], [ 118.23128125, 24.7421167 ], [ 118.23083889, 24.74098654 ], [ 118.23027433, 24.74070625 ], [ 118.22934637, 24.74065873 ], [ 118.22828722, 24.74066809 ], [ 118.2268636, 24.74067916 ], [ 118.22669941, 24.74071205 ], [ 118.22515457, 24.74054697 ], [ 118.22375698, 24.73829706 ], [ 118.22346175, 24.73616296 ], [ 118.22454725, 24.73439391 ], [ 118.22714148, 24.73286685 ], [ 118.2298935, 24.73271855 ], [ 118.23539562, 24.73267211 ], [ 118.23760033, 24.73252783 ], [ 118.24047233, 24.73124756 ], [ 118.24169611, 24.73023181 ], [ 118.24205246, 24.72799898 ], [ 118.24383144, 24.72685219 ], [ 118.24561028, 24.72558029 ], [ 118.24613964, 24.72331439 ], [ 118.24652195, 24.7209275 ], [ 118.24534959, 24.7198186 ], [ 118.24397903, 24.7194326 ], [ 118.24218214, 24.71944847 ], [ 118.23975272, 24.71946809 ], [ 118.23770433, 24.7194856 ], [ 118.23559472, 24.71938894 ], [ 118.23447482, 24.71888754 ], [ 118.23321679, 24.71787806 ], [ 118.23246219, 24.71652179 ], [ 118.23232315, 24.71521778 ], [ 118.23231423, 24.71391384 ], [ 118.23221934, 24.71107693 ], [ 118.23220147, 24.70909401 ], [ 118.23240074, 24.70788316 ], [ 118.23246188, 24.70675024 ], [ 118.23326076, 24.70460569 ], [ 118.23403263, 24.70211912 ], [ 118.23290478, 24.69974072 ], [ 118.23298295, 24.69835781 ], [ 118.23206314, 24.6976354 ], [ 118.23124736, 24.697471 ], [ 118.23076088, 24.69747574 ], [ 118.23000605, 24.6982563 ], [ 118.22836521, 24.69952629 ], [ 118.22658613, 24.7002951 ], [ 118.22479897, 24.70031082 ], [ 118.2231409, 24.69982255 ], [ 118.22092803, 24.69820575 ], [ 118.21898341, 24.69608605 ], [ 118.21773364, 24.69484089 ], [ 118.21799414, 24.69333019 ], [ 118.21796828, 24.69081725 ], [ 118.21795037, 24.68918528 ], [ 118.21726536, 24.68881361 ], [ 118.21588523, 24.6886992 ], [ 118.21451399, 24.68946372 ], [ 118.21302142, 24.69111102 ], [ 118.21111103, 24.69300974 ], [ 118.20993992, 24.6938543 ], [ 118.20970548, 24.694245 ], [ 118.20921057, 24.69464637 ], [ 118.20841211, 24.69482436 ], [ 118.20704059, 24.6947206 ], [ 118.20610387, 24.69421939 ], [ 118.20467121, 24.69315149 ], [ 118.20335272, 24.6918587 ], [ 118.20121762, 24.68954972 ], [ 118.1997678, 24.68740565 ], [ 118.19856946, 24.68514691 ], [ 118.19743319, 24.68328322 ], [ 118.19574071, 24.68108463 ], [ 118.19442093, 24.67967656 ], [ 118.19297984, 24.67832625 ], [ 118.19284254, 24.67822303 ], [ 118.19275535, 24.67818889 ], [ 118.19274032, 24.67814586 ], [ 118.19179124, 24.67742831 ], [ 118.19011563, 24.67466157 ], [ 118.18923071, 24.67308109 ], [ 118.18922169, 24.67303608 ], [ 118.18964692, 24.66949885 ], [ 118.189222, 24.66874814 ], [ 118.1837271, 24.66854057 ], [ 118.18419657, 24.66354246 ], [ 118.18501253, 24.6634099 ], [ 118.18501157, 24.66278291 ], [ 118.18328455, 24.66131985 ], [ 118.18416107, 24.65537544 ], [ 118.18438697, 24.65019783 ], [ 118.15330178, 24.59544272 ], [ 118.148189374458667, 24.58287790553522 ], [ 118.147390478, 24.583832499 ], [ 118.146209592, 24.5853945540001 ], [ 118.145611137, 24.586221579 ], [ 118.145611092331407, 24.586221561500949 ], [ 118.14561105, 24.58622162 ] ] ] ] }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "翔安区",
                        "id": "xiangan"
                    },
                    "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ 118.22475446, 24.8339839 ], [ 118.22531019, 24.83333739 ], [ 118.22571776, 24.8323308 ], [ 118.22610834, 24.83081825 ], [ 118.22705459, 24.82879913 ], [ 118.22869554, 24.82727835 ], [ 118.22947641, 24.82675687 ], [ 118.23187989, 24.82609024 ], [ 118.23628869, 24.826556 ], [ 118.23850223, 24.8277925 ], [ 118.23990796, 24.83054649 ], [ 118.24095841, 24.83321137 ], [ 118.24133962, 24.8333844 ], [ 118.24517639, 24.8347335 ], [ 118.24738022, 24.83419146 ], [ 118.24817862, 24.83196464 ], [ 118.24948108, 24.83012167 ], [ 118.25268249, 24.83135779 ], [ 118.25475764, 24.83059719 ], [ 118.25663171, 24.82869666 ], [ 118.25900946, 24.82810758 ], [ 118.26234257, 24.82952247 ], [ 118.26424278, 24.83139296 ], [ 118.2662658, 24.83316323 ], [ 118.26946811, 24.83342251 ], [ 118.27254909, 24.83397353 ], [ 118.27644602, 24.83516027 ], [ 118.27964815, 24.8353025 ], [ 118.28171423, 24.83385909 ], [ 118.28433559, 24.83218384 ], [ 118.28733823, 24.83129977 ], [ 118.2917298, 24.83070231 ], [ 118.29398683, 24.83023084 ], [ 118.29648645, 24.82890096 ], [ 118.29752817, 24.82602957 ], [ 118.29844809, 24.82241145 ], [ 118.29974141, 24.81919563 ], [ 118.30079203, 24.81637814 ], [ 118.30316155, 24.81436424 ], [ 118.30514865, 24.81125906 ], [ 118.30724954, 24.80768465 ], [ 118.31019179, 24.80658438 ], [ 118.31263082, 24.805082 ], [ 118.3145577, 24.8030076 ], [ 118.31693573, 24.80161424 ], [ 118.31881951, 24.80125569 ], [ 118.32076415, 24.80095901 ], [ 118.3201224, 24.79913142 ], [ 118.31920117, 24.79678742 ], [ 118.3197922, 24.79596737 ], [ 118.32252559, 24.79393234 ], [ 118.32167523, 24.79167719 ], [ 118.32000031, 24.78943061 ], [ 118.31832535, 24.787435 ], [ 118.31780431, 24.78656908 ], [ 118.31925393, 24.78476049 ], [ 118.3212506, 24.78291184 ], [ 118.32342891, 24.78134681 ], [ 118.32593765, 24.77979114 ], [ 118.32809902, 24.77783619 ], [ 118.33005174, 24.77728058 ], [ 118.33035605, 24.7795398 ], [ 118.33074628, 24.78083694 ], [ 118.33148396, 24.78163747 ], [ 118.33230049, 24.78253885 ], [ 118.33323785, 24.78309904 ], [ 118.3345486, 24.78336956 ], [ 118.33547803, 24.78330484 ], [ 118.3362847, 24.78284439 ], [ 118.33726613, 24.78181368 ], [ 118.3390714, 24.77817471 ], [ 118.3391413, 24.7779536 ], [ 118.33993126, 24.77442649 ], [ 118.33963587, 24.77267118 ], [ 118.3385337, 24.7724302 ], [ 118.33662377, 24.77395557 ], [ 118.33442744, 24.77447659 ], [ 118.33221327, 24.77374281 ], [ 118.33081585, 24.77124366 ], [ 118.33078113, 24.76813699 ], [ 118.33211791, 24.76709156 ], [ 118.33359357, 24.764559 ], [ 118.33301272, 24.76228027 ], [ 118.33218729, 24.76005 ], [ 118.33085075, 24.75788569 ], [ 118.33087673, 24.75748468 ], [ 118.33030388, 24.75522793 ], [ 118.32862892, 24.75323127 ], [ 118.32670123, 24.75299591 ], [ 118.32452287, 24.75527691 ], [ 118.32121567, 24.75480429 ], [ 118.31487867, 24.75385642 ], [ 118.31210153, 24.7516188 ], [ 118.31234432, 24.74885255 ], [ 118.31369818, 24.74682916 ], [ 118.3144881, 24.74305294 ], [ 118.31609365, 24.73901917 ], [ 118.31743955, 24.73599181 ], [ 118.31880227, 24.73497328 ], [ 118.32096956, 24.73431518 ], [ 118.32566843, 24.73340423 ], [ 118.3275782, 24.73213266 ], [ 118.32947914, 24.72960224 ], [ 118.33164065, 24.72631734 ], [ 118.33197912, 24.72559374 ], [ 118.33216186, 24.72477645 ], [ 118.33202226, 24.72254683 ], [ 118.33174484, 24.72111243 ], [ 118.32781297, 24.71567012 ], [ 118.32335115, 24.70992994 ], [ 118.31720545, 24.70093706 ], [ 118.31634616, 24.69767781 ], [ 118.31770002, 24.69515333 ], [ 118.32151961, 24.69210413 ], [ 118.32670184, 24.68853931 ], [ 118.33401955, 24.68476762 ], [ 118.33428815, 24.68401213 ], [ 118.33522273, 24.68168045 ], [ 118.33312752, 24.67842644 ], [ 118.33393229, 24.67647697 ], [ 118.33665784, 24.67444195 ], [ 118.34730932, 24.66705918 ], [ 118.34729245, 24.66555122 ], [ 118.34669368, 24.66103328 ], [ 118.34600821, 24.65431847 ], [ 118.34597245, 24.65180553 ], [ 118.34430616, 24.65006041 ], [ 118.34098165, 24.64732627 ], [ 118.33848192, 24.64483477 ], [ 118.33954043, 24.64130782 ], [ 118.34213579, 24.63330706 ], [ 118.34099888, 24.62979802 ], [ 118.34013059, 24.62553349 ], [ 118.34012266, 24.62470648 ], [ 118.33964452, 24.62369032 ], [ 118.33875906, 24.62239489 ], [ 118.33763001, 24.62138392 ], [ 118.33625935, 24.62065943 ], [ 118.33446239, 24.62050476 ], [ 118.33219628, 24.62000799 ], [ 118.33180604, 24.61882269 ], [ 118.33150177, 24.61580917 ], [ 118.33008746, 24.61230373 ], [ 118.32732629, 24.61081987 ], [ 118.32482684, 24.60807855 ], [ 118.32454842, 24.60664003 ], [ 118.32456645, 24.60584096 ], [ 118.32498284, 24.60413509 ], [ 118.32558189, 24.60282689 ], [ 118.32650241, 24.60117305 ], [ 118.32671006, 24.60101065 ], [ 118.32860279, 24.60151211 ], [ 118.33164043, 24.60324343 ], [ 118.33472284, 24.60798985 ], [ 118.33638889, 24.60998583 ], [ 118.33720556, 24.60947631 ], [ 118.33801236, 24.60745775 ], [ 118.33796872, 24.60343867 ], [ 118.3367362, 24.59748165 ], [ 118.33694502, 24.59512315 ], [ 118.33700592, 24.59508803 ], [ 118.34006104, 24.59282235 ], [ 118.34232251, 24.59110222 ], [ 118.34467089, 24.58987603 ], [ 118.3467807, 24.58898636 ], [ 118.34827353, 24.58779078 ], [ 118.34938508, 24.58510478 ], [ 118.34974085, 24.58107894 ], [ 118.3499147, 24.57958956 ], [ 118.3507306, 24.57847916 ], [ 118.35636489, 24.57822539 ], [ 118.36555025, 24.57691378 ], [ 118.36895785, 24.57829988 ], [ 118.36175062, 24.57358344 ], [ 118.35863553, 24.57082455 ], [ 118.36025778, 24.56779904 ], [ 118.37258279, 24.56423701 ], [ 118.37443267, 24.56068793 ], [ 118.37432987, 24.55893988 ], [ 118.37144423, 24.55682254 ], [ 118.37128442, 24.55604464 ], [ 118.37160431, 24.55393812 ], [ 118.36864814, 24.55026697 ], [ 118.369085, 24.54659913 ], [ 118.37178898, 24.54249283 ], [ 118.37065516, 24.53908867 ], [ 118.35870815, 24.53290495 ], [ 118.35556917, 24.53282155 ], [ 118.34929188, 24.53379257 ], [ 118.34203209, 24.53324596 ], [ 118.32136343, 24.52972322 ], [ 118.2943159, 24.5265635 ], [ 118.28521231, 24.52549691 ], [ 118.2822785, 24.52481775 ], [ 118.26891244, 24.52152992 ], [ 118.25946117, 24.51903132 ], [ 118.24245058, 24.51605674 ], [ 118.238181051366396, 24.515330885332546 ], [ 118.200253577, 24.536009628 ], [ 118.198751404, 24.536851471 ], [ 118.196321115, 24.538730928000099 ], [ 118.193986866, 24.541059457000099 ], [ 118.183795815, 24.549093897 ], [ 118.164543189, 24.561972309000101 ], [ 118.164256441, 24.5623548 ], [ 118.163622761, 24.563578706 ], [ 118.157112693, 24.5748933990001 ], [ 118.15694727, 24.575084107000102 ], [ 118.156947251877398, 24.575084121723151 ], [ 118.15694721, 24.57508417 ], [ 118.15656524, 24.57539448 ], [ 118.153044424059544, 24.577882619019878 ], [ 118.151427468, 24.579025318 ], [ 118.148189436, 24.582877832000101 ], [ 118.148189374458667, 24.58287790553522 ], [ 118.15330178, 24.59544272 ], [ 118.18438697, 24.65019783 ], [ 118.18416107, 24.65537544 ], [ 118.18328455, 24.66131985 ], [ 118.18501157, 24.66278291 ], [ 118.18501253, 24.6634099 ], [ 118.18419657, 24.66354246 ], [ 118.1837271, 24.66854057 ], [ 118.189222, 24.66874814 ], [ 118.18964692, 24.66949885 ], [ 118.18922169, 24.67303608 ], [ 118.18923071, 24.67308109 ], [ 118.19011563, 24.67466157 ], [ 118.19179124, 24.67742831 ], [ 118.19274032, 24.67814586 ], [ 118.19275535, 24.67818889 ], [ 118.19284254, 24.67822303 ], [ 118.19297984, 24.67832625 ], [ 118.19442093, 24.67967656 ], [ 118.19574071, 24.68108463 ], [ 118.19743319, 24.68328322 ], [ 118.19856946, 24.68514691 ], [ 118.1997678, 24.68740565 ], [ 118.20121762, 24.68954972 ], [ 118.20335272, 24.6918587 ], [ 118.20467121, 24.69315149 ], [ 118.20610387, 24.69421939 ], [ 118.20704059, 24.6947206 ], [ 118.20841211, 24.69482436 ], [ 118.20921057, 24.69464637 ], [ 118.20970548, 24.694245 ], [ 118.20993992, 24.6938543 ], [ 118.21111103, 24.69300974 ], [ 118.21302142, 24.69111102 ], [ 118.21451399, 24.68946372 ], [ 118.21588523, 24.6886992 ], [ 118.21726536, 24.68881361 ], [ 118.21795037, 24.68918528 ], [ 118.21796828, 24.69081725 ], [ 118.21799414, 24.69333019 ], [ 118.21773364, 24.69484089 ], [ 118.21898341, 24.69608605 ], [ 118.22092803, 24.69820575 ], [ 118.2231409, 24.69982255 ], [ 118.22479897, 24.70031082 ], [ 118.22658613, 24.7002951 ], [ 118.22836521, 24.69952629 ], [ 118.23000605, 24.6982563 ], [ 118.23076088, 24.69747574 ], [ 118.23124736, 24.697471 ], [ 118.23206314, 24.6976354 ], [ 118.23298295, 24.69835781 ], [ 118.23290478, 24.69974072 ], [ 118.23403263, 24.70211912 ], [ 118.23326076, 24.70460569 ], [ 118.23246188, 24.70675024 ], [ 118.23240074, 24.70788316 ], [ 118.23220147, 24.70909401 ], [ 118.23221934, 24.71107693 ], [ 118.23231423, 24.71391384 ], [ 118.23232315, 24.71521778 ], [ 118.23246219, 24.71652179 ], [ 118.23321679, 24.71787806 ], [ 118.23447482, 24.71888754 ], [ 118.23559472, 24.71938894 ], [ 118.23770433, 24.7194856 ], [ 118.23975272, 24.71946809 ], [ 118.24218214, 24.71944847 ], [ 118.24397903, 24.7194326 ], [ 118.24534959, 24.7198186 ], [ 118.24652195, 24.7209275 ], [ 118.24613964, 24.72331439 ], [ 118.24561028, 24.72558029 ], [ 118.24383144, 24.72685219 ], [ 118.24205246, 24.72799898 ], [ 118.24169611, 24.73023181 ], [ 118.24047233, 24.73124756 ], [ 118.23760033, 24.73252783 ], [ 118.23539562, 24.73267211 ], [ 118.2298935, 24.73271855 ], [ 118.22714148, 24.73286685 ], [ 118.22454725, 24.73439391 ], [ 118.22346175, 24.73616296 ], [ 118.22375698, 24.73829706 ], [ 118.22515457, 24.74054697 ], [ 118.22669941, 24.74071205 ], [ 118.2268636, 24.74067916 ], [ 118.22828722, 24.74066809 ], [ 118.22934637, 24.74065873 ], [ 118.23027433, 24.74070625 ], [ 118.23083889, 24.74098654 ], [ 118.23128125, 24.7421167 ], [ 118.23111694, 24.74416147 ], [ 118.23070044, 24.74535517 ], [ 118.23052616, 24.74677597 ], [ 118.23053506, 24.74830687 ], [ 118.23092535, 24.74983597 ], [ 118.23143776, 24.75119214 ], [ 118.23228848, 24.75258545 ], [ 118.23398894, 24.75376213 ], [ 118.23386768, 24.75589891 ], [ 118.23333809, 24.75766155 ], [ 118.23348614, 24.75879153 ], [ 118.23417971, 24.75941477 ], [ 118.24068945, 24.75970462 ], [ 118.24316279, 24.7598079 ], [ 118.24618311, 24.75940597 ], [ 118.2482838, 24.75916282 ], [ 118.24960303, 24.76051251 ], [ 118.25011407, 24.76152934 ], [ 118.25012397, 24.76294722 ], [ 118.25020189, 24.7642511 ], [ 118.25064391, 24.76509994 ], [ 118.25133798, 24.76577473 ], [ 118.25257909, 24.76621637 ], [ 118.25408014, 24.76688484 ], [ 118.25576407, 24.76789113 ], [ 118.25720488, 24.7691844 ], [ 118.25821168, 24.77025183 ], [ 118.25858457, 24.77114156 ], [ 118.25854954, 24.77161454 ], [ 118.25760357, 24.77300388 ], [ 118.25477455, 24.77551085 ], [ 118.25286536, 24.77690936 ], [ 118.25164212, 24.77842656 ], [ 118.25192906, 24.77980636 ], [ 118.25263105, 24.78105806 ], [ 118.25195386, 24.78269709 ], [ 118.2511556, 24.78483909 ], [ 118.25172055, 24.78672078 ], [ 118.25412354, 24.78955579 ], [ 118.25551243, 24.79117912 ], [ 118.2566233, 24.79217456 ], [ 118.25663224, 24.79305347 ], [ 118.25596315, 24.79481858 ], [ 118.25612895, 24.79758123 ], [ 118.25684871, 24.80021366 ], [ 118.25693533, 24.80558406 ], [ 118.25642411, 24.8092319 ], [ 118.25601505, 24.81036696 ], [ 118.25355991, 24.81227366 ], [ 118.24771064, 24.81555854 ], [ 118.24537577, 24.81643258 ], [ 118.24463842, 24.81699952 ], [ 118.24390901, 24.81831035 ], [ 118.24329265, 24.81922422 ], [ 118.24225104, 24.82031201 ], [ 118.24070712, 24.82111971 ], [ 118.23890094, 24.82152931 ], [ 118.23529925, 24.82161722 ], [ 118.23213245, 24.82158787 ], [ 118.22926758, 24.82132737 ], [ 118.22628226, 24.82072952 ], [ 118.22306231, 24.81970321 ], [ 118.21994607, 24.81943657 ], [ 118.21969455, 24.82170008 ], [ 118.22011111, 24.82219941 ], [ 118.22438176, 24.82316886 ], [ 118.22535391, 24.82404049 ], [ 118.22551, 24.82542044 ], [ 118.22511041, 24.82680499 ], [ 118.22471179, 24.8285695 ], [ 118.22445934, 24.83045609 ], [ 118.22475446, 24.8339839 ] ] ], [ [ [ 118.405373594280533, 24.556803968854975 ], [ 118.40636127, 24.55633233 ], [ 118.406361334399321, 24.556332314270115 ], [ 118.406361358, 24.556332303 ], [ 118.40747711899543, 24.556059774007053 ], [ 118.40812065, 24.55563104 ], [ 118.40860706, 24.55548826 ], [ 118.408607074805843, 24.555488260897551 ], [ 118.408607146, 24.55548824 ], [ 118.409322702385452, 24.555531611417141 ], [ 118.40979508, 24.55527387 ], [ 118.40992422, 24.55503092 ], [ 118.40991023, 24.55470188 ], [ 118.40970907, 24.55437274 ], [ 118.40923667, 24.55432948 ], [ 118.407763512448312, 24.554371758494771 ], [ 118.407534359, 24.554529643 ], [ 118.407534301554179, 24.554529648259436 ], [ 118.40753427, 24.55452967 ], [ 118.40721902, 24.55455853 ], [ 118.4066326, 24.55441526 ], [ 118.40574501, 24.55392887 ], [ 118.40485848, 24.55299848 ], [ 118.40441421, 24.55283932 ], [ 118.40404298, 24.55289821 ], [ 118.40387089, 24.55278315 ], [ 118.40369981, 24.55246807 ], [ 118.40359978, 24.552025 ], [ 118.40361381, 24.55168198 ], [ 118.40365586, 24.55140996 ], [ 118.40367088, 24.55118095 ], [ 118.4033417, 24.55100984 ], [ 118.40315562, 24.55072277 ], [ 118.40302658, 24.5503367 ], [ 118.40304161, 24.54993666 ], [ 118.40301262, 24.54960762 ], [ 118.40269747, 24.54927852 ], [ 118.402325352081135, 24.549349424360038 ], [ 118.402111237, 24.549521388000102 ], [ 118.402111186059656, 24.549521381038769 ], [ 118.40211115, 24.54952141 ], [ 118.40179599, 24.54947834 ], [ 118.40145283, 24.54933526 ], [ 118.40129577, 24.54914922 ], [ 118.40118074, 24.54879116 ], [ 118.40102369, 24.54856312 ], [ 118.40072256, 24.54837705 ], [ 118.400251411189146, 24.548461988968786 ], [ 118.398934891, 24.5490058990001 ], [ 118.398390668, 24.549477913 ], [ 118.398333622, 24.549849946000101 ], [ 118.398605693, 24.550149987000101 ], [ 118.399363952, 24.55036506 ], [ 118.399550003, 24.5506651050001 ], [ 118.399893106, 24.551123183000101 ], [ 118.400351286, 24.551280253000101 ], [ 118.401094614, 24.551323367000101 ], [ 118.401924977, 24.551839566000101 ], [ 118.402440207, 24.552339722000099 ], [ 118.402397125, 24.553169788 ], [ 118.402110932, 24.553798783 ], [ 118.402139895, 24.554513854 ], [ 118.402498054, 24.554900966 ], [ 118.403241446, 24.5551151660001 ], [ 118.403885807, 24.55530136 ], [ 118.404128931, 24.555616459000099 ], [ 118.404415048, 24.55644562 ], [ 118.405044424, 24.556788855 ], [ 118.405373594280533, 24.556803968854975 ] ] ], [ [ [ 118.383876724937139, 24.562512949423724 ], [ 118.38609007, 24.56197676 ], [ 118.3870739, 24.56144027 ], [ 118.38765585, 24.56081496 ], [ 118.38857174, 24.56061358 ], [ 118.388571745878068, 24.560613581276453 ], [ 118.388571829, 24.5606135630001 ], [ 118.389086766, 24.560725383 ], [ 118.38930969, 24.561508370000102 ], [ 118.389891597, 24.562223234 ], [ 118.390785553, 24.5623579730001 ], [ 118.393110564885802, 24.562068413222931 ], [ 118.39351364, 24.56150931 ], [ 118.39364669, 24.56104024 ], [ 118.39364675, 24.56021217 ], [ 118.39346876, 24.55981017 ], [ 118.39273073, 24.55934127 ], [ 118.39167967, 24.55945251 ], [ 118.39134467, 24.55931859 ], [ 118.39087473, 24.55862466 ], [ 118.3906508, 24.55764163 ], [ 118.39002586, 24.55708278 ], [ 118.38901896, 24.55681409 ], [ 118.38792409, 24.55681351 ], [ 118.38696228, 24.55650089 ], [ 118.38559859, 24.55625452 ], [ 118.38515071, 24.55620974 ], [ 118.38421201, 24.55582921 ], [ 118.38334032, 24.55547168 ], [ 118.382401738719338, 24.555538254416366 ], [ 118.381976894, 24.555940545000102 ], [ 118.381976818080005, 24.555940542880048 ], [ 118.3819768, 24.55594056 ], [ 118.38117214, 24.5559181 ], [ 118.38056844, 24.55556048 ], [ 118.37884639, 24.55426363 ], [ 118.3776171, 24.55395057 ], [ 118.376208009402561, 24.554151760090697 ], [ 118.374464174, 24.554687364000099 ], [ 118.373368939, 24.555134443 ], [ 118.37223668, 24.556962722 ], [ 118.374003253, 24.558203104 ], [ 118.375582063, 24.559515769 ], [ 118.376387514, 24.559896097 ], [ 118.377213935, 24.5608794830001 ], [ 118.377952423, 24.5619979740001 ], [ 118.379249675, 24.562601017000102 ], [ 118.380523041, 24.5627141000001 ], [ 118.383876724937139, 24.562512949423724 ] ] ] ] }
                }
            ]
        };

        let currentAnalysisType = 'daily';
        let sixParamChart;
        let map;
        let heatmapLayer;

        // 生成演示数据
        function generateDailyData(date) {
            // 根据用户要求调整各污染物的基准值和波动范围
            // PM2.5: 7-12之间波动（目标值20）
            const pm25 = 9.5 + (Math.random() - 0.5) * 5; // 7-12
            
            // PM10: 5-20之间波动（目标值20）
            const pm10 = 12.5 + (Math.random() - 0.5) * 30; // 5-20
            
            // O3_8h: 10-20之间波动（目标值30）
            const o3_8h = 15 + (Math.random() - 0.5) * 10; // 10-20
            
            // NO2: 1-3之间波动（目标值4）
            const no2 = 2 + (Math.random() - 0.5) * 2; // 1-3
            
            // SO2: 固定为1（目标值2）
            const so2 = 1;
            
            // CO: 2-4之间波动（目标值5）
            const co = 3 + (Math.random() - 0.5) * 2; // 2-4
            
            // AQI: 10-20之间波动（目标值20）
            const aqi = 15 + (Math.random() - 0.5) * 10; // 10-20

            return {
                PM25: Math.round(pm25),
                PM10: Math.round(pm10),
                O3_8h: Math.round(o3_8h),
                NO2: Math.round(no2),
                SO2: Math.round(so2),
                CO: Math.round(co * 10) / 10,
                AQI: Math.round(aqi)
            };
        }

        function generateMonthlyData(month) {
            const days = new Date(month.split('-')[0], month.split('-')[1], 0).getDate();
            const data = [];

            for (let d = 1; d <= days; d++) {
                const dateStr = `${month}-${String(d).padStart(2, '0')}`;
                data.push(generateDailyData(dateStr));
            }

            return data;
        }

        function generateAnnualData(year) {
            const data = [];
            for (let m = 1; m <= 12; m++) {
                const monthData = generateMonthlyData(`${year}-${String(m).padStart(2, '0')}`);
                data.push(...monthData);
            }
            return data;
        }

        function calculateAQI(value, type) {
            const breakpoints = {
                PM25: [[0, 50, 0, 35], [50, 100, 35, 75], [100, 150, 75, 115], [150, 200, 115, 150], [200, 300, 150, 250], [300, 500, 250, 500]],
                PM10: [[0, 50, 0, 50], [50, 100, 50, 150], [100, 150, 150, 250], [150, 200, 250, 350], [200, 300, 350, 420], [300, 500, 420, 600]],
                O3: [[0, 50, 0, 100], [50, 100, 100, 160], [100, 150, 160, 215], [150, 200, 215, 265], [200, 300, 265, 800], [300, 500, 800, 1200]],
                NO2: [[0, 50, 0, 40], [50, 100, 40, 80], [100, 150, 80, 180], [150, 200, 180, 280], [200, 300, 280, 565], [300, 500, 565, 750]],
                SO2: [[0, 50, 0, 50], [50, 100, 50, 150], [100, 150, 150, 475], [150, 200, 475, 800], [200, 300, 800, 1600], [300, 500, 1600, 2620]],
                CO: [[0, 50, 0, 2], [50, 100, 2, 4], [100, 150, 4, 14], [150, 200, 14, 24], [200, 300, 24, 36], [300, 500, 36, 60]]
            };

            const bp = breakpoints[type] || breakpoints.PM25;
            for (let i = 0; i < bp.length; i++) {
                if (value >= bp[i][0] && value <= bp[i][1]) {
                    const aqi = ((bp[i][3] - bp[i][2]) / (bp[i][1] - bp[i][0])) * (value - bp[i][0]) + bp[i][2];
                    return aqi;
                }
            }
            return 0;
        }

        function switchAnalysisType(type) {
            currentAnalysisType = type;
            document.querySelectorAll('.analysis-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            document.querySelectorAll('.analysis-content').forEach(content => {
                content.style.display = 'none';
            });

            if (type === 'daily') {
                document.getElementById('dailyAnalysis').style.display = 'block';
                analyzeDaily();
            } else if (type === 'monthly') {
                document.getElementById('monthlyAnalysis').style.display = 'block';
                analyzeMonthly();
            } else if (type === 'annual') {
                document.getElementById('annualAnalysis').style.display = 'block';
                analyzeAnnual();
            } else if (type === 'six-param') {
                document.getElementById('sixParamAnalysis').style.display = 'block';
                analyzeSixParam();
            }
        }

        function analyzeDaily() {
            const date = '2024-01-15'; // 预设日期
            const aqiTarget = 20; // 预设AQI目标值
            const data = generateDailyData(date);

            // 计算需要控制的指标平均值
            const remainingParams = {
                PM25: data.PM25,
                PM10: data.PM10,
                O3_8h: data.O3_8h,
                NO2: data.NO2,
                SO2: data.SO2,
                CO: data.CO
            };

            const cumulativeAQI = data.AQI;
            const primaryPollutant = Object.keys(remainingParams).reduce((a, b) =>
                remainingParams[a] > remainingParams[b] ? a : b
            );

            const html = `
                <div class="result-title">单日达标分析结果 - ${date}</div>
                <div class="result-grid">
                    <div class="result-card">
                        <label>当日累计AQI</label>
                        <div class="value">${cumulativeAQI}<span class="unit">${cumulativeAQI <= aqiTarget ? '✓' : '✗'}</span></div>
                    </div>
                    <div class="result-card">
                        <label>AQI目标值</label>
                        <div class="value">${aqiTarget}</div>
                    </div>
                    <div class="result-card">
                        <label>首要污染物</label>
                        <div class="value">${primaryPollutant === 'O3_8h' ? 'O₃-8h' : primaryPollutant === 'PM25' ? 'PM2.5' : primaryPollutant}</div>
                    </div>
                </div>
                
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>污染物</th>
                            <th>需控制的平均浓度</th>
                            <th>累计平均浓度</th>
                            <th>单位</th>
                            <th>状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>PM2.5</td>
                            <td>${remainingParams.PM25}</td>
                            <td>${remainingParams.PM25}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${remainingParams.PM25 <= 35 ? 'status-good' : remainingParams.PM25 <= 75 ? 'status-warning' : 'status-danger'}">${remainingParams.PM25 <= 35 ? '达标' : remainingParams.PM25 <= 75 ? '轻度污染' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>PM10</td>
                            <td>${remainingParams.PM10}</td>
                            <td>${remainingParams.PM10}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${remainingParams.PM10 <= 70 ? 'status-good' : remainingParams.PM10 <= 150 ? 'status-warning' : 'status-danger'}">${remainingParams.PM10 <= 70 ? '达标' : remainingParams.PM10 <= 150 ? '轻度污染' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>O₃-8h</td>
                            <td>${remainingParams.O3_8h}</td>
                            <td>${remainingParams.O3_8h}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${remainingParams.O3_8h <= 160 ? 'status-good' : remainingParams.O3_8h <= 215 ? 'status-warning' : 'status-danger'}">${remainingParams.O3_8h <= 160 ? '达标' : remainingParams.O3_8h <= 215 ? '轻度污染' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>NO₂</td>
                            <td>${remainingParams.NO2}</td>
                            <td>${remainingParams.NO2}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${remainingParams.NO2 <= 40 ? 'status-good' : remainingParams.NO2 <= 80 ? 'status-warning' : 'status-danger'}">${remainingParams.NO2 <= 40 ? '达标' : remainingParams.NO2 <= 80 ? '轻度污染' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>SO₂</td>
                            <td>${remainingParams.SO2}</td>
                            <td>${remainingParams.SO2}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${remainingParams.SO2 <= 60 ? 'status-good' : remainingParams.SO2 <= 150 ? 'status-warning' : 'status-danger'}">${remainingParams.SO2 <= 60 ? '达标' : remainingParams.SO2 <= 150 ? '轻度污染' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>CO</td>
                            <td>${remainingParams.CO}</td>
                            <td>${remainingParams.CO}</td>
                            <td>mg/m³</td>
                            <td><span class="status-badge ${remainingParams.CO <= 4 ? 'status-good' : remainingParams.CO <= 14 ? 'status-warning' : 'status-danger'}">${remainingParams.CO <= 4 ? '达标' : remainingParams.CO <= 14 ? '轻度污染' : '超标'}</span></td>
                        </tr>
                    </tbody>
                </table>
            `;

            document.getElementById('dailyResult').innerHTML = html;
        }

        function analyzeMonthly() {
            const month = '2025-10'; // 预设月份
            const aqiRateTarget = 80; // 预设AQI达标率目标
            const targets = {
                PM25: 20, // 预设PM2.5目标值
                PM10: 20, // 预设PM10目标值
                O3_8h: 30, // 预设O3目标值
                NO2: 4, // 预设NO2目标值
                SO2: 2, // 预设SO2目标值
                CO: 5 // 预设CO目标值
            };

            const data = generateMonthlyData(month);
            const days = data.length;

            // 计算累计平均值
            const cumulative = {
                PM25: data.reduce((sum, d) => sum + d.PM25, 0) / days,
                PM10: data.reduce((sum, d) => sum + d.PM10, 0) / days,
                O3_8h: data.reduce((sum, d) => sum + d.O3_8h, 0) / days,
                NO2: data.reduce((sum, d) => sum + d.NO2, 0) / days,
                SO2: data.reduce((sum, d) => sum + d.SO2, 0) / days,
                CO: data.reduce((sum, d) => sum + d.CO, 0) / days
            };

            // 计算AQI达标天数
            const compliantDays = data.filter(d => d.AQI <= 100).length;
            const compliantRate = (compliantDays / days * 100).toFixed(1);
            const remainingDays = Math.ceil((aqiRateTarget / 100 * days) - compliantDays);

            const html = `
                <div class="result-title">月度达标分析结果 - ${month}</div>
                <div class="result-grid">
                    <div class="result-card">
                        <label>累计AQI达标天数</label>
                        <div class="value">${compliantDays}<span class="unit">天</span></div>
                    </div>
                    <div class="result-card">
                        <label>AQI达标率</label>
                        <div class="value">${compliantRate}<span class="unit">%</span></div>
                    </div>
                    <div class="result-card">
                        <label>目标达标率</label>
                        <div class="value">${aqiRateTarget}<span class="unit">%</span></div>
                    </div>
                    <div class="result-card">
                        <label>AQI 需控制的剩余达标天数</label>
                        <div class="value">${remainingDays > 0 ? remainingDays : 0}<span class="unit">天</span></div>
                    </div>
                </div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>污染物</th>
                            <th>累计平均浓度</th>
                            <th>需控制的平均浓度</th>
                            <th>目标值</th>
                            <th>单位</th>
                            <th>状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>PM2.5</td>
                            <td>${cumulative.PM25.toFixed(1)}</td>
                            <td>${cumulative.PM25.toFixed(1)}</td>
                            <td>${targets.PM25}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.PM25 <= targets.PM25 ? 'status-good' : 'status-danger'}">${cumulative.PM25 <= targets.PM25 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>PM10</td>
                            <td>${cumulative.PM10.toFixed(1)}</td>
                            <td>${cumulative.PM10.toFixed(1)}</td>
                            <td>${targets.PM10}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.PM10 <= targets.PM10 ? 'status-good' : 'status-danger'}">${cumulative.PM10 <= targets.PM10 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>O₃-8h</td>
                            <td>${cumulative.O3_8h.toFixed(1)}</td>
                            <td>${cumulative.O3_8h.toFixed(1)}</td>
                            <td>${targets.O3_8h}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.O3_8h <= targets.O3_8h ? 'status-good' : 'status-danger'}">${cumulative.O3_8h <= targets.O3_8h ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>NO₂</td>
                            <td>${cumulative.NO2.toFixed(1)}</td>
                            <td>${cumulative.NO2.toFixed(1)}</td>
                            <td>${targets.NO2}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.NO2 <= targets.NO2 ? 'status-good' : 'status-danger'}">${cumulative.NO2 <= targets.NO2 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>SO₂</td>
                            <td>${cumulative.SO2.toFixed(1)}</td>
                            <td>${cumulative.SO2.toFixed(1)}</td>
                            <td>${targets.SO2}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.SO2 <= targets.SO2 ? 'status-good' : 'status-danger'}">${cumulative.SO2 <= targets.SO2 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>CO</td>
                            <td>${cumulative.CO.toFixed(1)}</td>
                            <td>${cumulative.CO.toFixed(1)}</td>
                            <td>${targets.CO}</td>
                            <td>mg/m³</td>
                            <td><span class="status-badge ${cumulative.CO <= targets.CO ? 'status-good' : 'status-danger'}">${cumulative.CO <= targets.CO ? '达标' : '超标'}</span></td>
                        </tr>
                    </tbody>
                </table>
            `;

            document.getElementById('monthlyResult').innerHTML = html;
        }

        function analyzeAnnual() {
            const year = '2025'; // 预设年份
            const aqiRateTarget = 80; // 预设AQI达标率目标
            const targets = {
                PM25: 20, // 预设PM2.5目标值
                PM10: 20, // 预设PM10目标值
                O3_8h: 30, // 预设O3目标值
                NO2: 4, // 预设NO2目标值
                SO2: 2, // 预设SO2目标值
                CO: 5 // 预设CO目标值
            };

            const data = generateAnnualData(year);
            const days = data.length;

            // 计算累计平均值
            const cumulative = {
                PM25: data.reduce((sum, d) => sum + d.PM25, 0) / days,
                PM10: data.reduce((sum, d) => sum + d.PM10, 0) / days,
                O3_8h: data.reduce((sum, d) => sum + d.O3_8h, 0) / days,
                NO2: data.reduce((sum, d) => sum + d.NO2, 0) / days,
                SO2: data.reduce((sum, d) => sum + d.SO2, 0) / days,
                CO: data.reduce((sum, d) => sum + d.CO, 0) / days
            };

            // 计算AQI达标天数
            const compliantDays = data.filter(d => d.AQI <= 100).length;
            const compliantRate = (compliantDays / days * 100).toFixed(1);
            const remainingDays = Math.ceil((aqiRateTarget / 100 * days) - compliantDays);

            const html = `
                <div class="result-title">年度达标分析结果 - ${year}年</div>
                <div class="result-grid">
                    <div class="result-card">
                        <label>累计AQI达标天数</label>
                        <div class="value">${compliantDays}<span class="unit">天</span></div>
                    </div>
                    <div class="result-card">
                        <label>AQI达标率</label>
                        <div class="value">${compliantRate}<span class="unit">%</span></div>
                    </div>
                    <div class="result-card">
                        <label>目标达标率</label>
                        <div class="value">${aqiRateTarget}<span class="unit">%</span></div>
                    </div>
                    <div class="result-card">
                        <label>AQI 需控制的剩余达标天数</label>
                        <div class="value">${remainingDays > 0 ? remainingDays : 0}<span class="unit">天</span></div>
                    </div>
                </div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>污染物</th>
                            <th>累计平均浓度</th>
                            <th>需控制的平均浓度</th>
                            <th>目标值</th>
                            <th>单位</th>
                            <th>状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>PM2.5</td>
                            <td>${cumulative.PM25.toFixed(1)}</td>
                            <td>${cumulative.PM25.toFixed(1)}</td>
                            <td>${targets.PM25}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.PM25 <= targets.PM25 ? 'status-good' : 'status-danger'}">${cumulative.PM25 <= targets.PM25 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>PM10</td>
                            <td>${cumulative.PM10.toFixed(1)}</td>
                            <td>${cumulative.PM10.toFixed(1)}</td>
                            <td>${targets.PM10}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.PM10 <= targets.PM10 ? 'status-good' : 'status-danger'}">${cumulative.PM10 <= targets.PM10 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>O₃-8h</td>
                            <td>${cumulative.O3_8h.toFixed(1)}</td>
                            <td>${cumulative.O3_8h.toFixed(1)}</td>
                            <td>${targets.O3_8h}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.O3_8h <= targets.O3_8h ? 'status-good' : 'status-danger'}">${cumulative.O3_8h <= targets.O3_8h ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>NO₂</td>
                            <td>${cumulative.NO2.toFixed(1)}</td>
                            <td>${cumulative.NO2.toFixed(1)}</td>
                            <td>${targets.NO2}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.NO2 <= targets.NO2 ? 'status-good' : 'status-danger'}">${cumulative.NO2 <= targets.NO2 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>SO₂</td>
                            <td>${cumulative.SO2.toFixed(1)}</td>
                            <td>${cumulative.SO2.toFixed(1)}</td>
                            <td>${targets.SO2}</td>
                            <td>μg/m³</td>
                            <td><span class="status-badge ${cumulative.SO2 <= targets.SO2 ? 'status-good' : 'status-danger'}">${cumulative.SO2 <= targets.SO2 ? '达标' : '超标'}</span></td>
                        </tr>
                        <tr>
                            <td>CO</td>
                            <td>${cumulative.CO.toFixed(1)}</td>
                            <td>${cumulative.CO.toFixed(1)}</td>
                            <td>${targets.CO}</td>
                            <td>mg/m³</td>
                            <td><span class="status-badge ${cumulative.CO <= targets.CO ? 'status-good' : 'status-danger'}">${cumulative.CO <= targets.CO ? '达标' : '超标'}</span></td>
                        </tr>
                    </tbody>
                </table>
            `;

            document.getElementById('annualResult').innerHTML = html;
        }

        function analyzeSixParam() {
            const startDate = document.getElementById('sixParamStartDate').value;
            const endDate = document.getElementById('sixParamEndDate').value;
            const targets = {
                PM25: parseInt(document.getElementById('sixParamPM25').value),
                PM10: parseInt(document.getElementById('sixParamPM10').value),
                O3_8h: parseInt(document.getElementById('sixParamO3').value),
                NO2: parseInt(document.getElementById('sixParamNO2').value),
                SO2: parseInt(document.getElementById('sixParamSO2').value),
                CO: parseFloat(document.getElementById('sixParamCO').value)
            };

            // 生成多站点数据
            const stations = ['station1', 'station2', 'station3', 'station4', 'station5', 'station6', 'station7', 'station8', 'station9', 'station10', 'station11'];
            const stationNames = {
                station1: '鼓浪屿海滨空气监测站',
                station2: '莲前大道空气质量监测站',
                station3: '筼筜湖生态监测站',
                station4: '五缘湾湿地空气监测站',
                station5: '枋湖工业片区空气质量监测站',
                station6: '杏林湾新城空气监测站',
                station7: '厦门北站交通枢纽监测站',
                station8: '嵩屿码头空气监测站',
                station9: '海沧生物医药园监测站',
                station10: '同安工业集中区空气监测站',
                station11: '翔安机场片区空气质量监测站'
            };

            // 根据压力值确定等级的函数
            function getPressureLevel(pressure) {
                if (pressure >= 30) return '高';
                if (pressure >= 10) return '中';
                return '低';
            }

            const stationData = {};
            stations.forEach(stationId => {
                const data = generateMonthlyData(startDate.substring(0, 7));
                // 为每个站点生成略有差异的平均浓度和需控制的平均浓度
                const avgPM25 = data.reduce((sum, d) => sum + d.PM25, 0) / data.length;
                const avgPM10 = data.reduce((sum, d) => sum + d.PM10, 0) / data.length;
                const avgO3_8h = data.reduce((sum, d) => sum + d.O3_8h, 0) / data.length;
                const avgNO2 = data.reduce((sum, d) => sum + d.NO2, 0) / data.length;
                const avgSO2 = data.reduce((sum, d) => sum + d.SO2, 0) / data.length;
                const avgCO = data.reduce((sum, d) => sum + d.CO, 0) / data.length;

                // 生成需控制的平均浓度（略低于平均浓度，模拟控制后的效果）
                const controlledPM25 = avgPM25 * (0.85 + Math.random() * 0.1);
                const controlledPM10 = avgPM10 * (0.85 + Math.random() * 0.1);
                const controlledO3_8h = avgO3_8h * (0.85 + Math.random() * 0.1);
                const controlledNO2 = avgNO2 * (0.85 + Math.random() * 0.1);
                const controlledSO2 = avgSO2 * (0.85 + Math.random() * 0.1);
                const controlledCO = avgCO * (0.85 + Math.random() * 0.1);

                stationData[stationId] = {
                    name: stationNames[stationId],
                    PM25: {
                        avg: avgPM25,
                        controlled: controlledPM25
                    },
                    PM10: {
                        avg: avgPM10,
                        controlled: controlledPM10
                    },
                    O3_8h: {
                        avg: avgO3_8h,
                        controlled: controlledO3_8h
                    },
                    NO2: {
                        avg: avgNO2,
                        controlled: controlledNO2
                    },
                    SO2: {
                        avg: avgSO2,
                        controlled: controlledSO2
                    },
                    CO: {
                        avg: avgCO,
                        controlled: controlledCO
                    }
                };
            });

            // 计算达标压力（超标百分比）
            const pressureData = {};
            ['PM25', 'PM10', 'O3_8h', 'NO2', 'SO2', 'CO'].forEach(param => {
                pressureData[param] = stations.map(stationId => {
                    const avgValue = stationData[stationId][param].avg;
                    const target = targets[param];
                    const pressure = ((avgValue - target) / target * 100);
                    return {
                        station: stationData[stationId].name,
                        avgValue: avgValue,
                        controlledValue: stationData[stationId][param].controlled,
                        target: target,
                        pressure: pressure,
                        level: getPressureLevel(pressure)
                    };
                });
            });

            // 显示结果表格
            let html = `
                <div class="result-title">六参数达标压力分析结果</div>
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>站点</th>
                            <th>PM2.5<br><small>平均浓度/需控制的平均浓度</small></th>
                            <th>PM10<br><small>平均浓度/需控制的平均浓度</small></th>
                            <th>O₃-8h<br><small>平均浓度/需控制的平均浓度</small></th>
                            <th>NO₂<br><small>平均浓度/需控制的平均浓度</small></th>
                            <th>SO₂<br><small>平均浓度/需控制的平均浓度</small></th>
                            <th>CO<br><small>平均浓度/需控制的平均浓度</small></th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            stations.forEach(stationId => {
                const data = stationData[stationId];
                html += `
                    <tr>
                        <td>${data.name}</td>
                        <td>${data.PM25.avg.toFixed(1)} / ${data.PM25.controlled.toFixed(1)}<br><small>压力: ${pressureData.PM25.find(p => p.station === data.name).level}</small></td>
                        <td>${data.PM10.avg.toFixed(1)} / ${data.PM10.controlled.toFixed(1)}<br><small>压力: ${pressureData.PM10.find(p => p.station === data.name).level}</small></td>
                        <td>${data.O3_8h.avg.toFixed(1)} / ${data.O3_8h.controlled.toFixed(1)}<br><small>压力: ${pressureData.O3_8h.find(p => p.station === data.name).level}</small></td>
                        <td>${data.NO2.avg.toFixed(1)} / ${data.NO2.controlled.toFixed(1)}<br><small>压力: ${pressureData.NO2.find(p => p.station === data.name).level}</small></td>
                        <td>${data.SO2.avg.toFixed(1)} / ${data.SO2.controlled.toFixed(1)}<br><small>压力: ${pressureData.SO2.find(p => p.station === data.name).level}</small></td>
                        <td>${data.CO.avg.toFixed(1)} / ${data.CO.controlled.toFixed(1)}<br><small>压力: ${pressureData.CO.find(p => p.station === data.name).level}</small></td>
                    </tr>
                `;
            });

            html += `</tbody></table>`;
            document.getElementById('sixParamResult').innerHTML = html;

            // 绘制图表
            updateSixParamChart(pressureData, stationNames);
        }

        function updateSixParamChart(pressureData, stationNames) {
            // 初始化地图
            if (map) {
                map.remove();
            }

            // 创建地图实例
            map = L.map('mapContainer').setView([24.48, 118.08], 10);

            // 添加高德地图矢量图层
            L.tileLayer('https://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}', {
                subdomains: ['1', '2', '3', '4'],
                attribution: '© 高德地图'
            }).addTo(map);

            // 添加厦门市行政区划边界
            L.geoJSON(xiamenGeoJSON, {
                style: function (feature) {
                    return {
                        fillColor: '#3498db',
                        weight: 2,
                        opacity: 1,
                        color: 'white',
                        dashArray: '3',
                        fillOpacity: 0.3
                    };
                },
                onEachFeature: function (feature, layer) {
                    layer.bindPopup(`<b>${feature.properties.name}</b>`);
                }
            }).addTo(map);

            // 准备热力图数据
            const heatmapData = [];

            // 站点坐标数据（简化版）
            const stationCoordinates = {
                '筼筜湖空气监测站': [24.485, 118.082],
                '鼓浪屿空气监测站': [24.446, 118.070],
                '金榜山空气监测站': [24.455, 118.120],
                '五缘湾湿地空气监测站': [24.520, 118.170],
                '枋湖工业片区空气质量监测站': [24.520, 118.150],
                '杏林湾新城空气监测站': [24.580, 118.020],
                '厦门北站交通枢纽监测站': [24.620, 118.150],
                '嵩屿码头空气监测站': [24.480, 117.980],
                '海沧生物医药园监测站': [24.480, 117.950],
                '同安工业集中区空气监测站': [24.720, 118.150],
                '翔安机场片区空气质量监测站': [24.580, 118.250]
            };

            // 计算所有站点的平均压力值作为热力图数据
            // 修改为显示最低的达标压力
            Object.keys(stationCoordinates).forEach(stationName => {
                // 查找该站点的压力数据
                let minPressure = Infinity;
                let hasData = false;

                Object.keys(pressureData).forEach(param => {
                    const stationData = pressureData[param].find(p => p.station === stationName);
                    if (stationData) {
                        // 使用最低压力值（这里设置为0，表示最低压力）
                        minPressure = Math.min(minPressure, 20);
                        hasData = true;
                    }
                });

                if (hasData) {
                    const coordinates = stationCoordinates[stationName];
                    if (coordinates) {
                        // 添加热力图数据点 [纬度, 经度, 强度]
                        // 所有站点都显示最低压力值0
                        heatmapData.push([coordinates[0], coordinates[1], 20]);
                    }
                }
            });

            // 创建热力图图层
            if (heatmapLayer) {
                map.removeLayer(heatmapLayer);
            }

            // 添加热力图图层
            heatmapLayer = L.heatLayer(heatmapData, {
                radius: 50,
                blur: 35,
                maxZoom: 17,
                opacity: 0.8,
                gradient: {
                    0.0: '#0066ff',  // 蓝色 - 最低压力
                    0.2: '#00ccff',  // 青色
                    0.4: '#00ff99',  // 绿色
                    0.6: '#ffff00',  // 黄色
                    0.8: '#ff9900',  // 橙色
                    1.0: '#ff0000'   // 红色 - 最高压力
                }
            }).addTo(map);

            // 添加图例
            const legend = L.control({ position: 'bottomright' });
            legend.onAdd = function (map) {
                const div = L.DomUtil.create('div', 'info legend');
                div.innerHTML = `
                    <div style="background: white; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px rgba(0,0,0,0.2);">
                        <h4>达标压力</h4>
                        <div style="display: flex; align-items: center; margin-bottom: 5px;">
                            <div style="width: 20px; height: 20px; background: #0066ff; margin-right: 8px;"></div>
                            <span>最低</span>
                        </div>
                        <div style="display: flex; align-items: center; margin-bottom: 5px;">
                            <div style="width: 20px; height: 20px; background: #00ccff; margin-right: 8px;"></div>
                            <span>较低</span>
                        </div>
                        <div style="display: flex; align-items: center; margin-bottom: 5px;">
                            <div style="width: 20px; height: 20px; background: #00ff99; margin-right: 8px;"></div>
                            <span>低</span>
                        </div>
                        <div style="display: flex; align-items: center; margin-bottom: 5px;">
                            <div style="width: 20px; height: 20px; background: #ffff00; margin-right: 8px;"></div>
                            <span>中等</span>
                        </div>
                        <div style="display: flex; align-items: center; margin-bottom: 5px;">
                            <div style="width: 20px; height: 20px; background: #ff9900; margin-right: 8px;"></div>
                            <span>高</span>
                        </div>
                        <div style="display: flex; align-items: center;">
                            <div style="width: 20px; height: 20px; background: #ff0000; margin-right: 8px;"></div>
                            <span>最高</span>
                        </div>
                    </div>
                `;
                return div;
            };
            legend.addTo(map);
        }

        // 初始化
        window.onload = function () {
            // 移除目标输入框的输入功能，改为只读显示
            document.querySelectorAll('.target-input input').forEach(input => {
                input.readOnly = true;
            });
            // 页面加载后直接显示单日达标分析结果
            analyzeDaily();
        };

        // 退出登录函数
        function logout() {
            alert('退出登录成功');
            // 这里可以添加实际的退出登录逻辑，比如跳转到登录页面
            // window.location.href = 'login.html';
        }
    </script>
</body>

</html>